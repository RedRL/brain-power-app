"use strict";(self.webpackChunkbrain_power=self.webpackChunkbrain_power||[]).push([[3793],{3793:(he,y,_)=>{_.r(y),_.d(y,{PersonalInfoComponent:()=>ue});var C=_(177),r=_(4341),P=_(70),M=_(3025),x=_(9112),E=_(5964),e=_(4438),R=_(5096),j=_(8490);function S(o,l){if(1&o&&(e.j41(0,"div",52),e.EFF(1),e.k0s()),2&o){const t=l.$implicit;e.R7$(),e.JRh(t)}}function O(o,l){if(1&o){const t=e.RV6();e.j41(0,"div",53),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.selectDate(n.date))}),e.j41(1,"div",54),e.EFF(2),e.k0s()()}if(2&o){const t=l.$implicit,i=e.XpG();e.AVh("no-completion","none"===t.completionStatus&&!t.isFuture&&!t.isOtherMonth)("partial-completion","partial"===t.completionStatus)("full-completion","full"===t.completionStatus)("future-day",t.isFuture&&!t.isOtherMonth)("other-month",t.isOtherMonth)("selected",i.selectedDate===t.date),e.R7$(2),e.JRh(t.day)}}function T(o,l){1&o&&(e.j41(0,"span",6),e.EFF(1,"check"),e.k0s())}function D(o,l){1&o&&(e.j41(0,"span",6),e.EFF(1,"close"),e.k0s())}function $(o,l){if(1&o&&(e.j41(0,"div",62)(1,"span",63),e.EFF(2),e.k0s(),e.j41(3,"span",64),e.DNE(4,T,2,0,"span",65)(5,D,2,0,"span",65),e.k0s()()),2&o){const t=l.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(),e.AVh("completed",t.completed)("not-completed",!t.completed),e.R7$(),e.Y8G("ngIf",t.completed),e.R7$(),e.Y8G("ngIf",!t.completed)}}function G(o,l){if(1&o&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&o){const t=l.$implicit;e.R7$(),e.JRh(t.title)}}function w(o,l){if(1&o&&(e.j41(0,"div",66)(1,"h4"),e.EFF(2),e.nI1(3,"t"),e.k0s(),e.j41(4,"ul"),e.DNE(5,G,2,1,"li",67),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(2),e.SpI("",e.bMT(3,2,"completed_goals"),":"),e.R7$(3),e.Y8G("ngForOf",t.selectedDayCompletedGoals)}}function N(o,l){if(1&o&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&o){const t=l.$implicit;e.R7$(),e.JRh(t.title)}}function z(o,l){if(1&o&&(e.j41(0,"div",68)(1,"h4"),e.EFF(2),e.nI1(3,"t"),e.k0s(),e.j41(4,"ul"),e.DNE(5,N,2,1,"li",67),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(2),e.SpI("",e.bMT(3,2,"uncompleted_goals"),":"),e.R7$(3),e.Y8G("ngForOf",t.selectedDayUncompletedGoals)}}function V(o,l){1&o&&(e.j41(0,"div",69)(1,"p"),e.EFF(2),e.nI1(3,"t"),e.k0s()()),2&o&&(e.R7$(2),e.JRh(e.bMT(3,1,"no_goals")))}function Y(o,l){if(1&o&&(e.j41(0,"div",55)(1,"h3"),e.EFF(2),e.nI1(3,"t"),e.k0s(),e.j41(4,"div",56)(5,"h4"),e.EFF(6),e.nI1(7,"t"),e.k0s(),e.j41(8,"div",57),e.DNE(9,$,6,7,"div",58),e.k0s()(),e.DNE(10,w,6,4,"div",59)(11,z,6,4,"div",60)(12,V,4,3,"div",61),e.k0s()),2&o){const t=e.XpG();e.R7$(2),e.Lme("",e.bMT(3,7,"goals_on")," ",t.formatDate(t.selectedDate),""),e.R7$(4),e.JRh(e.bMT(7,9,"daily_activities")),e.R7$(3),e.Y8G("ngForOf",t.selectedDayActivities),e.R7$(),e.Y8G("ngIf",t.selectedDayCompletedGoals.length>0),e.R7$(),e.Y8G("ngIf",t.selectedDayUncompletedGoals.length>0),e.R7$(),e.Y8G("ngIf",0===t.selectedDayCompletedGoals.length&&0===t.selectedDayUncompletedGoals.length)}}function A(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleFieldEdit("firstName"))}),e.j41(1,"span",6),e.EFF(2,"edit"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}2&o&&(e.R7$(4),e.JRh(e.bMT(5,1,"edit")))}function L(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",71),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveField("firstName"))}),e.j41(1,"span",6),e.EFF(2,"check"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}if(2&o){let t;const i=e.XpG();e.Y8G("disabled",null==(t=i.form.get("firstName"))?null:t.invalid),e.R7$(4),e.JRh(e.bMT(5,2,"approve"))}}function J(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",72),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelFieldEdit("firstName"))}),e.j41(1,"span",6),e.EFF(2,"close"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}2&o&&(e.R7$(4),e.JRh(e.bMT(5,1,"cancel")))}function X(o,l){if(1&o&&(e.j41(0,"div",73),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.getFieldError("firstName")," ")}}function B(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleFieldEdit("lastName"))}),e.j41(1,"span",6),e.EFF(2,"edit"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}2&o&&(e.R7$(4),e.JRh(e.bMT(5,1,"edit")))}function U(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",71),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveField("lastName"))}),e.j41(1,"span",6),e.EFF(2,"check"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}if(2&o){let t;const i=e.XpG();e.Y8G("disabled",null==(t=i.form.get("lastName"))?null:t.invalid),e.R7$(4),e.JRh(e.bMT(5,2,"approve"))}}function K(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",72),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelFieldEdit("lastName"))}),e.j41(1,"span",6),e.EFF(2,"close"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}2&o&&(e.R7$(4),e.JRh(e.bMT(5,1,"cancel")))}function W(o,l){if(1&o&&(e.j41(0,"div",73),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.getFieldError("lastName")," ")}}function Z(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleFieldEdit("age"))}),e.j41(1,"span",6),e.EFF(2,"edit"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}2&o&&(e.R7$(4),e.JRh(e.bMT(5,1,"edit")))}function H(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",71),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveField("age"))}),e.j41(1,"span",6),e.EFF(2,"check"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}if(2&o){let t;const i=e.XpG();e.Y8G("disabled",null==(t=i.form.get("age"))?null:t.invalid),e.R7$(4),e.JRh(e.bMT(5,2,"approve"))}}function Q(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",72),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelFieldEdit("age"))}),e.j41(1,"span",6),e.EFF(2,"close"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}2&o&&(e.R7$(4),e.JRh(e.bMT(5,1,"cancel")))}function q(o,l){if(1&o&&(e.j41(0,"div",73),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.getFieldError("age")," ")}}function ee(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleFieldEdit("weight"))}),e.j41(1,"span",6),e.EFF(2,"edit"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}2&o&&(e.R7$(4),e.JRh(e.bMT(5,1,"edit")))}function te(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",71),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveField("weight"))}),e.j41(1,"span",6),e.EFF(2,"check"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}if(2&o){let t;const i=e.XpG();e.Y8G("disabled",null==(t=i.form.get("weight"))?null:t.invalid),e.R7$(4),e.JRh(e.bMT(5,2,"approve"))}}function ne(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",72),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelFieldEdit("weight"))}),e.j41(1,"span",6),e.EFF(2,"close"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}2&o&&(e.R7$(4),e.JRh(e.bMT(5,1,"cancel")))}function oe(o,l){if(1&o&&(e.j41(0,"div",73),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.getFieldError("weight")," ")}}function ie(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleFieldEdit("height"))}),e.j41(1,"span",6),e.EFF(2,"edit"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}2&o&&(e.R7$(4),e.JRh(e.bMT(5,1,"edit")))}function ae(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",71),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveField("height"))}),e.j41(1,"span",6),e.EFF(2,"check"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}if(2&o){let t;const i=e.XpG();e.Y8G("disabled",null==(t=i.form.get("height"))?null:t.invalid),e.R7$(4),e.JRh(e.bMT(5,2,"approve"))}}function le(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",72),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelFieldEdit("height"))}),e.j41(1,"span",6),e.EFF(2,"close"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}2&o&&(e.R7$(4),e.JRh(e.bMT(5,1,"cancel")))}function se(o,l){if(1&o&&(e.j41(0,"div",73),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.getFieldError("height")," ")}}function re(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleFieldEdit("email"))}),e.j41(1,"span",6),e.EFF(2,"edit"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}2&o&&(e.R7$(4),e.JRh(e.bMT(5,1,"edit")))}function ce(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",71),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveField("email"))}),e.j41(1,"span",6),e.EFF(2,"check"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}if(2&o){let t;const i=e.XpG();e.Y8G("disabled",null==(t=i.form.get("email"))?null:t.invalid),e.R7$(4),e.JRh(e.bMT(5,2,"approve"))}}function de(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",72),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelFieldEdit("email"))}),e.j41(1,"span",6),e.EFF(2,"close"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}2&o&&(e.R7$(4),e.JRh(e.bMT(5,1,"cancel")))}function pe(o,l){if(1&o&&(e.j41(0,"div",73),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.getFieldError("email")," ")}}function fe(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleFieldEdit("phone"))}),e.j41(1,"span",6),e.EFF(2,"edit"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}2&o&&(e.R7$(4),e.JRh(e.bMT(5,1,"edit")))}function ge(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",71),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveField("phone"))}),e.j41(1,"span",6),e.EFF(2,"check"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}if(2&o){let t;const i=e.XpG();e.Y8G("disabled",null==(t=i.form.get("phone"))?null:t.invalid),e.R7$(4),e.JRh(e.bMT(5,2,"approve"))}}function _e(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",72),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelFieldEdit("phone"))}),e.j41(1,"span",6),e.EFF(2,"close"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"t"),e.k0s()()}2&o&&(e.R7$(4),e.JRh(e.bMT(5,1,"cancel")))}function me(o,l){if(1&o&&(e.j41(0,"div",73),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.getFieldError("phone")," ")}}let ue=(()=>{class o{constructor(t,i,n,a){this.fb=t,this.router=i,this.translateService=n,this.dataService=a,this.isInfoSectionExpanded=!1,this.editingFields=new Set,this.selectedDate=null,this.calendarDays=[],this.selectedDayCompletedGoals=[],this.selectedDayUncompletedGoals=[],this.selectedDayActivities=[],this.allGoals=[],this.dayNames=[],this.currentMonth=new Date,this.monthName="",this.originalFieldValues={},this.selectedLevel="beginner",this.selectedFontSize="medium",this.selectedLanguage="en",this.isLevelSectionExpanded=!1,this.isFontSizeSectionExpanded=!1,this.isLanguageSectionExpanded=!1,this.form=this.fb.group({firstName:["",[r.k0.required,r.k0.minLength(2),r.k0.maxLength(12),r.k0.pattern(/^[a-zA-Z\u0590-\u05FF\s\'\-\"]+$/)]],lastName:["",[r.k0.pattern(/^[a-zA-Z\u0590-\u05FF\s\'\-\"]*$/)]],age:["",[r.k0.min(1),r.k0.max(120)]],weight:["",[r.k0.min(1),r.k0.max(300)]],height:["",[r.k0.min(.5),r.k0.max(3)]],email:["",[r.k0.email]],phone:["",[r.k0.required,r.k0.pattern(/^[0-9\s\-\+\(\)]+$/)]]})}ngOnInit(){this.loadExistingProfile(),this.loadGoals(),this.initializeDayNames(),this.initializeCalendar(),this.loadSettings(),this.routerSubscription=this.router.events.pipe((0,E.p)(t=>t instanceof P.wF)).subscribe(t=>{"/personal-info"===t.url&&(this.loadGoals(),this.initializeCalendar())})}ngAfterViewInit(){this.applyFontSize()}loadSettings(){const t=localStorage.getItem("level");("beginner"===t||"advanced"===t||"grand"===t)&&(this.selectedLevel=t);const i=localStorage.getItem("fontSize");("small"===i||"medium"===i||"large"===i||"extra-large"===i)&&(this.selectedFontSize=i),this.applyFontSize();const n=localStorage.getItem("lang");("en"===n||"he"===n)&&(this.selectedLanguage=n)}selectLevel(t){this.selectedLevel=t,localStorage.setItem("level",t)}selectFontSize(t){this.selectedFontSize=t,localStorage.setItem("fontSize",t),this.applyFontSize()}applyFontSize(){const t=document.documentElement;switch(this.selectedFontSize){case"small":t.style.setProperty("--base-font-size","14px");break;case"medium":t.style.setProperty("--base-font-size","18px");break;case"large":t.style.setProperty("--base-font-size","22px");break;case"extra-large":t.style.setProperty("--base-font-size","26px")}}selectLanguage(t){this.selectedLanguage=t,this.translateService.setLang(t),setTimeout(()=>{window.location.href="/personal-info"},100)}toggleLevelSection(){this.isLevelSectionExpanded=!this.isLevelSectionExpanded}toggleFontSizeSection(){this.isFontSizeSectionExpanded=!this.isFontSizeSectionExpanded}toggleLanguageSection(){this.isLanguageSectionExpanded=!this.isLanguageSectionExpanded}toggleInfoSection(){this.isInfoSectionExpanded=!this.isInfoSectionExpanded}initializeDayNames(){this.dayNames="he"===this.translateService.lang?["\u05d0","\u05d1","\u05d2","\u05d3","\u05d4","\u05d5","\u05e9"]:["S","M","T","W","T","F","S"]}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe()}loadGoals(){this.allGoals=this.dataService.getGoals()}toggleFieldEdit(t){if(!this.editingFields.has(t)){const i=this.form.get(t);i&&(this.originalFieldValues[t]=i.value),this.editingFields.add(t)}}cancelFieldEdit(t){const i=this.form.get(t);i&&void 0!==this.originalFieldValues[t]&&(i.setValue(this.originalFieldValues[t]),delete this.originalFieldValues[t]),this.editingFields.delete(t)}saveField(t){const i=this.form.get(t);if(i&&i.valid){const n=this.form.value,a={fullName:`${n.firstName} ${n.lastName||""}`.trim(),firstName:n.firstName,lastName:n.lastName,age:n.age,weight:n.weight,height:n.height,email:n.email,phone:n.phone};localStorage.setItem("profile",JSON.stringify(a)),delete this.originalFieldValues[t],this.editingFields.delete(t)}}isFieldEditing(t){return this.editingFields.has(t)}hasAnyFieldEditing(){return this.editingFields.size>0}cancelEditing(){Object.keys(this.originalFieldValues).forEach(t=>{const i=this.form.get(t);i&&i.setValue(this.originalFieldValues[t])}),this.originalFieldValues={},this.editingFields.clear()}initializeCalendar(){const t=new Date;t.setHours(0,0,0,0);const i=[],n=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth(),1),a=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()+1,0);this.updateMonthName();let s=n.getDay();if(s>0){const c=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()-1,0);for(let p=s-1;p>=0;p--){const g=c.getDate()-p,k=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()-1,g),h=this.formatDateToLocalString(k),{completed:F,total:I}=this.getGoalsForDate(h);let m="none";const u=I+4,v=F+this.checkDailyActivitiesForDate(h);v>0&&v<u?m="partial":v===u&&u>0?m="full":0===v&&(m="none"),i.push({date:h,day:g,completedCount:F,totalGoals:I,completionStatus:m,isFuture:!1,isOtherMonth:!0})}}for(let c=1;c<=a.getDate();c++){const p=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth(),c),g=this.formatDateToLocalString(p),k=p>t,{completed:h,total:F}=this.getGoalsForDate(g),I=this.checkDailyActivitiesForDate(g);let b="none";if(!k){const m=F+4,u=h+I;u>0&&u<m?b="partial":u===m&&m>0?b="full":0===u&&(b="none")}i.push({date:g,day:c,completedCount:h,totalGoals:F,completionStatus:b,isFuture:k,isOtherMonth:!1})}const f=a.getDay(),d=6===f?0:6-f;if(d>0)for(let c=1;c<=d;c++){const p=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()+1,c),g=this.formatDateToLocalString(p);i.push({date:g,day:c,completedCount:0,totalGoals:0,completionStatus:"none",isFuture:!0,isOtherMonth:!0})}this.calendarDays=i}updateMonthName(){this.monthName=("he"===this.translateService.lang?["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"]:["January","February","March","April","May","June","July","August","September","October","November","December"])[this.currentMonth.getMonth()]+" "+this.currentMonth.getFullYear()}previousMonth(){this.currentMonth=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()-1,1),this.initializeCalendar()}nextMonth(){this.currentMonth=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()+1,1),this.initializeCalendar()}getGoalsForDate(t){const i=this.allGoals;let n=0;const a=this.normalizeDateString(t);return i.forEach(s=>{const d=localStorage.getItem(`goal_${s.id}_completed`);d&&this.normalizeDateString(d)===a&&n++}),{completed:n,total:i.length}}normalizeDateString(t){return t.includes("T")?t.split("T")[0]:t}formatDateToLocalString(t){return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}checkDailyActivitiesForDate(t){const i=this.normalizeDateString(t);let n=0;const a=localStorage.getItem("musicSessionCompleted");a&&this.normalizeDateString(a)===i&&n++;const s=localStorage.getItem("breathingSessionCompleted");s&&this.normalizeDateString(s)===i&&n++;const f=localStorage.getItem("feldenkraisSessionCompleted");return f&&this.normalizeDateString(f)===i&&n++,this.dataService.getCompletionsForDate(i).some(c=>"memory"===c.exerciseId)&&n++,n}selectDate(t){this.selectedDate=this.selectedDate===t?null:t,this.selectedDate&&this.loadDayDetails(t)}loadDayDetails(t){const i=this.normalizeDateString(t),n=this.allGoals;this.selectedDayCompletedGoals=[],this.selectedDayUncompletedGoals=[],n.forEach(d=>{const p=localStorage.getItem(`goal_${d.id}_completed`);p&&this.normalizeDateString(p)===i?this.selectedDayCompletedGoals.push(d):this.selectedDayUncompletedGoals.push(d)});const a=localStorage.getItem("musicSessionCompleted"),s=localStorage.getItem("breathingSessionCompleted"),f=localStorage.getItem("feldenkraisSessionCompleted");this.selectedDayActivities=[{name:this.translateService.t("music_session"),completed:!!a&&this.normalizeDateString(a)===i},{name:this.translateService.t("breathing"),completed:!!s&&this.normalizeDateString(s)===i},{name:this.translateService.t("feldenkrais_movement"),completed:!!f&&this.normalizeDateString(f)===i},{name:this.translateService.t("memory_game"),completed:this.dataService.getCompletionsForDate(i).some(d=>"memory"===d.exerciseId)}]}formatDate(t){const[i,n,a]=t.split("-").map(Number);return new Date(i,n-1,a,12,0,0).toLocaleDateString("he"===this.translateService.lang?"he-IL":"en-US",{year:"numeric",month:"long",day:"numeric"})}loadExistingProfile(){try{const t=JSON.parse(localStorage.getItem("profile")||"{}");if(t){const n=(t.fullName||"").split(" "),a=n[0]||"",s=n.slice(1).join(" ")||"";this.form.patchValue({firstName:a,lastName:s,age:t.age||"",weight:t.weight||"",height:t.height||"",email:t.email||"",phone:t.phone||""})}}catch(t){console.error("Error loading profile:",t)}}saveProfile(){if(this.form.invalid)return void this.form.markAllAsTouched();const t=this.form.value,i={fullName:`${t.firstName} ${t.lastName||""}`.trim(),firstName:t.firstName,lastName:t.lastName,age:t.age,weight:t.weight,height:t.height,email:t.email,phone:t.phone};localStorage.setItem("profile",JSON.stringify(i)),localStorage.removeItem("guest"),this.editingFields.clear(),this.router.navigate(["/home"])}cancel(){this.router.navigate(["/home"])}getFieldError(t){const i=this.form.get(t);if(i?.errors&&i.touched){if(i.errors.required)return this.translateService.t("field_required");if(i.errors.minlength)return this.translateService.t("field_too_short");if(i.errors.maxlength)return this.translateService.t("field_too_long");if(i.errors.email)return this.translateService.t("invalid_email");if(i.errors.pattern){if("firstName"===t||"lastName"===t)return this.translateService.t("invalid_name");if("phone"===t)return this.translateService.t("invalid_phone")}if(i.errors.min||i.errors.max){if("age"===t)return this.translateService.t("invalid_age");if("weight"===t)return this.translateService.t("invalid_weight");if("height"===t)return this.translateService.t("invalid_height")}}return""}onNameKeyPress(t){return/^[a-zA-Z\u0590-\u05FF\s\'\-\"]$/.test(t.key)||"Backspace"===t.key||"Delete"===t.key||"Tab"===t.key}onPhoneKeyPress(t){return/^[0-9\s\-\+\(\)]$/.test(t.key)||"Backspace"===t.key||"Delete"===t.key||"Tab"===t.key}onAgeKeyPress(t){return/^[0-9]$/.test(t.key)||"Backspace"===t.key||"Delete"===t.key||"Tab"===t.key}onWeightKeyPress(t){return/^[0-9]$/.test(t.key)||"Backspace"===t.key||"Delete"===t.key||"Tab"===t.key}onHeightKeyPress(t){return/^[0-9.]$/.test(t.key)||"Backspace"===t.key||"Delete"===t.key||"Tab"===t.key}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(r.ok),e.rXU(P.Ix),e.rXU(R.c),e.rXU(j.u))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-personal-info"]],standalone:!0,features:[e.aNF],decls:185,vars:173,consts:[[3,"title"],[1,"content"],[1,"form-container"],[1,"calendar-section"],[1,"calendar-header"],["type","button",1,"calendar-nav-btn",3,"click"],[1,"icon"],[1,"calendar-month-title"],[1,"calendar-container"],[1,"calendar-day-names"],["class","day-name",4,"ngFor","ngForOf"],[1,"calendar-grid"],["class","calendar-day",3,"no-completion","partial-completion","full-completion","future-day","other-month","selected","click",4,"ngFor","ngForOf"],["class","day-details",4,"ngIf"],[1,"info-section"],[1,"info-section-header",3,"click"],["type","button",1,"collapse-toggle-btn"],[1,"info-section-content"],[1,"form-description"],[1,"personal-form",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"field-header"],["for","firstName"],[1,"required"],[1,"field-actions"],["type","button","class","field-edit-btn",3,"click",4,"ngIf"],["type","button","class","checkmark-btn",3,"disabled","click",4,"ngIf"],["type","button","class","field-close-btn",3,"click",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"input-wrapper"],["id","firstName","type","text","formControlName","firstName","maxlength","12",3,"keypress","readonly","placeholder"],["for","lastName"],["id","lastName","type","text","formControlName","lastName",3,"keypress","readonly","placeholder"],["for","age"],["id","age","type","number","formControlName","age","min","1","max","120",3,"keypress","readonly","placeholder"],["for","weight"],["id","weight","type","number","formControlName","weight","min","1","max","300",3,"keypress","readonly","placeholder"],["for","height"],["id","height","type","text","formControlName","height",3,"keypress","readonly","placeholder"],["for","email"],["id","email","type","email","formControlName","email",3,"readonly","placeholder"],["for","phone"],["id","phone","type","tel","formControlName","phone",3,"keypress","readonly","placeholder"],[1,"settings-section"],[1,"settings-section-header",3,"click"],[1,"settings-section-content"],[1,"level-options"],["type","button",1,"level-option",3,"click"],[1,"font-size-options"],["type","button",1,"font-size-option",3,"click"],[1,"language-options"],["type","button",1,"language-option",3,"click"],[1,"day-name"],[1,"calendar-day",3,"click"],[1,"day-number"],[1,"day-details"],[1,"daily-activities-section"],[1,"activities-grid"],["class","activity-item",4,"ngFor","ngForOf"],["class","completed-goals-list",4,"ngIf"],["class","uncompleted-goals-list",4,"ngIf"],["class","no-completions",4,"ngIf"],[1,"activity-item"],[1,"activity-name"],[1,"activity-status"],["class","icon",4,"ngIf"],[1,"completed-goals-list"],[4,"ngFor","ngForOf"],[1,"uncompleted-goals-list"],[1,"no-completions"],["type","button",1,"field-edit-btn",3,"click"],["type","button",1,"checkmark-btn",3,"click","disabled"],["type","button",1,"field-close-btn",3,"click"],[1,"error-message"]],template:function(i,n){if(1&i&&(e.nrm(0,"app-header",0),e.nI1(1,"t"),e.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"button",5),e.bIt("click",function(){return n.previousMonth()}),e.j41(7,"span",6),e.EFF(8),e.k0s()(),e.j41(9,"h2",7),e.EFF(10),e.k0s(),e.j41(11,"button",5),e.bIt("click",function(){return n.nextMonth()}),e.j41(12,"span",6),e.EFF(13),e.k0s()()(),e.j41(14,"div",8)(15,"div",9),e.DNE(16,S,2,1,"div",10),e.k0s(),e.j41(17,"div",11),e.DNE(18,O,3,13,"div",12),e.k0s()(),e.DNE(19,Y,13,11,"div",13),e.k0s(),e.j41(20,"div",14)(21,"div",15),e.bIt("click",function(){return n.toggleInfoSection()}),e.j41(22,"h2"),e.EFF(23),e.nI1(24,"t"),e.k0s(),e.j41(25,"button",16)(26,"span",6),e.EFF(27),e.k0s()()(),e.j41(28,"div",17)(29,"p",18),e.EFF(30),e.nI1(31,"t"),e.k0s(),e.j41(32,"form",19),e.bIt("ngSubmit",function(){return n.saveProfile()}),e.j41(33,"div",20)(34,"div",21)(35,"label",22),e.EFF(36),e.nI1(37,"t"),e.j41(38,"span",23),e.EFF(39,"*"),e.k0s()(),e.j41(40,"div",24),e.DNE(41,A,6,3,"button",25)(42,L,6,4,"button",26)(43,J,6,3,"button",27),e.k0s()(),e.DNE(44,X,2,1,"div",28),e.j41(45,"div",29)(46,"input",30),e.nI1(47,"t"),e.bIt("keypress",function(s){return n.onNameKeyPress(s)}),e.k0s()()(),e.j41(48,"div",20)(49,"div",21)(50,"label",31),e.EFF(51),e.nI1(52,"t"),e.k0s(),e.j41(53,"div",24),e.DNE(54,B,6,3,"button",25)(55,U,6,4,"button",26)(56,K,6,3,"button",27),e.k0s()(),e.DNE(57,W,2,1,"div",28),e.j41(58,"div",29)(59,"input",32),e.nI1(60,"t"),e.bIt("keypress",function(s){return n.onNameKeyPress(s)}),e.k0s()()(),e.j41(61,"div",20)(62,"div",21)(63,"label",33),e.EFF(64),e.nI1(65,"t"),e.k0s(),e.j41(66,"div",24),e.DNE(67,Z,6,3,"button",25)(68,H,6,4,"button",26)(69,Q,6,3,"button",27),e.k0s()(),e.DNE(70,q,2,1,"div",28),e.j41(71,"div",29)(72,"input",34),e.nI1(73,"t"),e.bIt("keypress",function(s){return n.onAgeKeyPress(s)}),e.k0s()()(),e.j41(74,"div",20)(75,"div",21)(76,"label",35),e.EFF(77),e.nI1(78,"t"),e.k0s(),e.j41(79,"div",24),e.DNE(80,ee,6,3,"button",25)(81,te,6,4,"button",26)(82,ne,6,3,"button",27),e.k0s()(),e.DNE(83,oe,2,1,"div",28),e.j41(84,"div",29)(85,"input",36),e.nI1(86,"t"),e.bIt("keypress",function(s){return n.onWeightKeyPress(s)}),e.k0s()()(),e.j41(87,"div",20)(88,"div",21)(89,"label",37),e.EFF(90),e.nI1(91,"t"),e.k0s(),e.j41(92,"div",24),e.DNE(93,ie,6,3,"button",25)(94,ae,6,4,"button",26)(95,le,6,3,"button",27),e.k0s()(),e.DNE(96,se,2,1,"div",28),e.j41(97,"div",29)(98,"input",38),e.nI1(99,"t"),e.bIt("keypress",function(s){return n.onHeightKeyPress(s)}),e.k0s()()(),e.j41(100,"div",20)(101,"div",21)(102,"label",39),e.EFF(103),e.nI1(104,"t"),e.k0s(),e.j41(105,"div",24),e.DNE(106,re,6,3,"button",25)(107,ce,6,4,"button",26)(108,de,6,3,"button",27),e.k0s()(),e.DNE(109,pe,2,1,"div",28),e.j41(110,"div",29),e.nrm(111,"input",40),e.nI1(112,"t"),e.k0s()(),e.j41(113,"div",20)(114,"div",21)(115,"label",41),e.EFF(116),e.nI1(117,"t"),e.j41(118,"span",23),e.EFF(119,"*"),e.k0s()(),e.j41(120,"div",24),e.DNE(121,fe,6,3,"button",25)(122,ge,6,4,"button",26)(123,_e,6,3,"button",27),e.k0s()(),e.DNE(124,me,2,1,"div",28),e.j41(125,"div",29)(126,"input",42),e.nI1(127,"t"),e.bIt("keypress",function(s){return n.onPhoneKeyPress(s)}),e.k0s()()()()()(),e.j41(128,"div",43)(129,"div",44),e.bIt("click",function(){return n.toggleLevelSection()}),e.j41(130,"h2"),e.EFF(131),e.nI1(132,"t"),e.k0s(),e.j41(133,"button",16)(134,"span",6),e.EFF(135),e.k0s()()(),e.j41(136,"div",45)(137,"div",46)(138,"button",47),e.bIt("click",function(){return n.selectLevel("beginner")}),e.EFF(139),e.nI1(140,"t"),e.k0s(),e.j41(141,"button",47),e.bIt("click",function(){return n.selectLevel("advanced")}),e.EFF(142),e.nI1(143,"t"),e.k0s(),e.j41(144,"button",47),e.bIt("click",function(){return n.selectLevel("grand")}),e.EFF(145),e.nI1(146,"t"),e.k0s()()()(),e.j41(147,"div",43)(148,"div",44),e.bIt("click",function(){return n.toggleFontSizeSection()}),e.j41(149,"h2"),e.EFF(150),e.nI1(151,"t"),e.k0s(),e.j41(152,"button",16)(153,"span",6),e.EFF(154),e.k0s()()(),e.j41(155,"div",45)(156,"div",48)(157,"button",49),e.bIt("click",function(){return n.selectFontSize("small")}),e.EFF(158),e.nI1(159,"t"),e.k0s(),e.j41(160,"button",49),e.bIt("click",function(){return n.selectFontSize("medium")}),e.EFF(161),e.nI1(162,"t"),e.k0s(),e.j41(163,"button",49),e.bIt("click",function(){return n.selectFontSize("large")}),e.EFF(164),e.nI1(165,"t"),e.k0s(),e.j41(166,"button",49),e.bIt("click",function(){return n.selectFontSize("extra-large")}),e.EFF(167),e.nI1(168,"t"),e.k0s()()()(),e.j41(169,"div",43)(170,"div",44),e.bIt("click",function(){return n.toggleLanguageSection()}),e.j41(171,"h2"),e.EFF(172),e.nI1(173,"t"),e.k0s(),e.j41(174,"button",16)(175,"span",6),e.EFF(176),e.k0s()()(),e.j41(177,"div",45)(178,"div",50)(179,"button",51),e.bIt("click",function(){return n.selectLanguage("he")}),e.EFF(180),e.nI1(181,"t"),e.k0s(),e.j41(182,"button",51),e.bIt("click",function(){return n.selectLanguage("en")}),e.EFF(183),e.nI1(184,"t"),e.k0s()()()()()()),2&i){let a,s,f,d,c,p,g;e.Y8G("title",e.bMT(1,115,"personal_info")),e.R7$(8),e.JRh("he"===n.translateService.lang?"chevron_right":"chevron_left"),e.R7$(2),e.JRh(n.monthName),e.R7$(3),e.JRh("he"===n.translateService.lang?"chevron_left":"chevron_right"),e.R7$(3),e.Y8G("ngForOf",n.dayNames),e.R7$(2),e.Y8G("ngForOf",n.calendarDays),e.R7$(),e.Y8G("ngIf",n.selectedDate),e.R7$(4),e.JRh(e.bMT(24,117,"update_personal_info")),e.R7$(4),e.JRh(n.isInfoSectionExpanded?"expand_less":"expand_more"),e.R7$(),e.AVh("expanded",n.isInfoSectionExpanded),e.R7$(2),e.JRh(e.bMT(31,119,"personal_info_description")),e.R7$(2),e.Y8G("formGroup",n.form),e.R7$(4),e.SpI("",e.bMT(37,121,"first_name")," "),e.R7$(5),e.Y8G("ngIf",!n.isFieldEditing("firstName")),e.R7$(),e.Y8G("ngIf",n.isFieldEditing("firstName")),e.R7$(),e.Y8G("ngIf",n.isFieldEditing("firstName")),e.R7$(),e.Y8G("ngIf",n.getFieldError("firstName")),e.R7$(2),e.AVh("error",(null==(a=n.form.get("firstName"))?null:a.invalid)&&(null==(a=n.form.get("firstName"))?null:a.touched)),e.FS9("placeholder",e.bMT(47,123,"enter_first_name")),e.Y8G("readonly",!n.isFieldEditing("firstName")),e.R7$(5),e.JRh(e.bMT(52,125,"last_name")),e.R7$(3),e.Y8G("ngIf",!n.isFieldEditing("lastName")),e.R7$(),e.Y8G("ngIf",n.isFieldEditing("lastName")),e.R7$(),e.Y8G("ngIf",n.isFieldEditing("lastName")),e.R7$(),e.Y8G("ngIf",n.getFieldError("lastName")),e.R7$(2),e.AVh("error",(null==(s=n.form.get("lastName"))?null:s.invalid)&&(null==(s=n.form.get("lastName"))?null:s.touched)),e.FS9("placeholder",e.bMT(60,127,"enter_last_name")),e.Y8G("readonly",!n.isFieldEditing("lastName")),e.R7$(5),e.JRh(e.bMT(65,129,"age")),e.R7$(3),e.Y8G("ngIf",!n.isFieldEditing("age")),e.R7$(),e.Y8G("ngIf",n.isFieldEditing("age")),e.R7$(),e.Y8G("ngIf",n.isFieldEditing("age")),e.R7$(),e.Y8G("ngIf",n.getFieldError("age")),e.R7$(2),e.AVh("error",(null==(f=n.form.get("age"))?null:f.invalid)&&(null==(f=n.form.get("age"))?null:f.touched)),e.FS9("placeholder",e.bMT(73,131,"enter_age")),e.Y8G("readonly",!n.isFieldEditing("age")),e.R7$(5),e.JRh(e.bMT(78,133,"weight")),e.R7$(3),e.Y8G("ngIf",!n.isFieldEditing("weight")),e.R7$(),e.Y8G("ngIf",n.isFieldEditing("weight")),e.R7$(),e.Y8G("ngIf",n.isFieldEditing("weight")),e.R7$(),e.Y8G("ngIf",n.getFieldError("weight")),e.R7$(2),e.AVh("error",(null==(d=n.form.get("weight"))?null:d.invalid)&&(null==(d=n.form.get("weight"))?null:d.touched)),e.FS9("placeholder",e.bMT(86,135,"enter_weight")),e.Y8G("readonly",!n.isFieldEditing("weight")),e.R7$(5),e.JRh(e.bMT(91,137,"height")),e.R7$(3),e.Y8G("ngIf",!n.isFieldEditing("height")),e.R7$(),e.Y8G("ngIf",n.isFieldEditing("height")),e.R7$(),e.Y8G("ngIf",n.isFieldEditing("height")),e.R7$(),e.Y8G("ngIf",n.getFieldError("height")),e.R7$(2),e.AVh("error",(null==(c=n.form.get("height"))?null:c.invalid)&&(null==(c=n.form.get("height"))?null:c.touched)),e.FS9("placeholder",e.bMT(99,139,"enter_height")),e.Y8G("readonly",!n.isFieldEditing("height")),e.R7$(5),e.JRh(e.bMT(104,141,"email")),e.R7$(3),e.Y8G("ngIf",!n.isFieldEditing("email")),e.R7$(),e.Y8G("ngIf",n.isFieldEditing("email")),e.R7$(),e.Y8G("ngIf",n.isFieldEditing("email")),e.R7$(),e.Y8G("ngIf",n.getFieldError("email")),e.R7$(2),e.AVh("error",(null==(p=n.form.get("email"))?null:p.invalid)&&(null==(p=n.form.get("email"))?null:p.touched)),e.FS9("placeholder",e.bMT(112,143,"enter_email")),e.Y8G("readonly",!n.isFieldEditing("email")),e.R7$(5),e.SpI("",e.bMT(117,145,"phone")," "),e.R7$(5),e.Y8G("ngIf",!n.isFieldEditing("phone")),e.R7$(),e.Y8G("ngIf",n.isFieldEditing("phone")),e.R7$(),e.Y8G("ngIf",n.isFieldEditing("phone")),e.R7$(),e.Y8G("ngIf",n.getFieldError("phone")),e.R7$(2),e.AVh("error",(null==(g=n.form.get("phone"))?null:g.invalid)&&(null==(g=n.form.get("phone"))?null:g.touched)),e.FS9("placeholder",e.bMT(127,147,"enter_phone")),e.Y8G("readonly",!n.isFieldEditing("phone")),e.R7$(5),e.JRh(e.bMT(132,149,"choose_level")),e.R7$(4),e.JRh(n.isLevelSectionExpanded?"expand_less":"expand_more"),e.R7$(),e.AVh("expanded",n.isLevelSectionExpanded),e.R7$(2),e.AVh("selected","beginner"===n.selectedLevel),e.R7$(),e.SpI(" ",e.bMT(140,151,"beginner")," "),e.R7$(2),e.AVh("selected","advanced"===n.selectedLevel),e.R7$(),e.SpI(" ",e.bMT(143,153,"advanced")," "),e.R7$(2),e.AVh("selected","grand"===n.selectedLevel),e.R7$(),e.SpI(" ",e.bMT(146,155,"grand_master")," "),e.R7$(5),e.JRh(e.bMT(151,157,"choose_font_size")),e.R7$(4),e.JRh(n.isFontSizeSectionExpanded?"expand_less":"expand_more"),e.R7$(),e.AVh("expanded",n.isFontSizeSectionExpanded),e.R7$(2),e.AVh("selected","small"===n.selectedFontSize),e.R7$(),e.SpI(" ",e.bMT(159,159,"font_size_small")," "),e.R7$(2),e.AVh("selected","medium"===n.selectedFontSize),e.R7$(),e.SpI(" ",e.bMT(162,161,"font_size_medium")," "),e.R7$(2),e.AVh("selected","large"===n.selectedFontSize),e.R7$(),e.SpI(" ",e.bMT(165,163,"font_size_large")," "),e.R7$(2),e.AVh("selected","extra-large"===n.selectedFontSize),e.R7$(),e.SpI(" ",e.bMT(168,165,"font_size_extra_large")," "),e.R7$(5),e.JRh(e.bMT(173,167,"choose_language")),e.R7$(4),e.JRh(n.isLanguageSectionExpanded?"expand_less":"expand_more"),e.R7$(),e.AVh("expanded",n.isLanguageSectionExpanded),e.R7$(2),e.AVh("selected","he"===n.selectedLanguage),e.R7$(),e.SpI(" ",e.bMT(181,169,"hebrew")," "),e.R7$(2),e.AVh("selected","en"===n.selectedLanguage),e.R7$(),e.SpI(" ",e.bMT(184,171,"english")," ")}},dependencies:[C.MD,C.Sq,C.bT,r.X1,r.qT,r.me,r.Q0,r.BC,r.cb,r.tU,r.VZ,r.zX,r.j4,r.JD,M.y,x.Z],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:10px 20px 20px}.settings-section[_ngcontent-%COMP%]{background:#ffffff1a;backdrop-filter:blur(10px);border-radius:16px;border:1px solid rgba(255,255,255,.2);margin-bottom:24px;overflow:hidden}.settings-section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;cursor:pointer;transition:background .3s ease}.settings-section-header[_ngcontent-%COMP%]:hover{background:#ffffff0d}.settings-section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#fff;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.3)}.settings-section-content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .3s ease,padding .3s ease;padding:0 20px}.settings-section-content.expanded[_ngcontent-%COMP%]{max-height:500px;padding:20px}.level-options[_ngcontent-%COMP%], .font-size-options[_ngcontent-%COMP%], .language-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.level-option[_ngcontent-%COMP%], .font-size-option[_ngcontent-%COMP%], .language-option[_ngcontent-%COMP%]{padding:14px 20px;border:2px solid rgba(255,255,255,.3);border-radius:12px;background:#ffffff1a;color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;text-align:center}.level-option[_ngcontent-%COMP%]:hover, .font-size-option[_ngcontent-%COMP%]:hover, .language-option[_ngcontent-%COMP%]:hover{background:#fff3;border-color:#ffffff80;transform:translateY(-2px)}.level-option.selected[_ngcontent-%COMP%], .font-size-option.selected[_ngcontent-%COMP%], .language-option.selected[_ngcontent-%COMP%]{background:var(--primary);border-color:var(--primary);box-shadow:0 4px 12px #d9770666}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin:0 0 8px;font-weight:800;text-transform:none;color:#fff;text-align:center}.form-description[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px;color:#fffc;font-size:1rem}.personal-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.label-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px}.label-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#fff;font-size:1rem;flex:1}.required[_ngcontent-%COMP%]{color:#ff6b6b;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:16px 20px;border:2px solid rgba(255,255,255,.2);border-radius:12px;background:#ffffff1a;color:#fff;font-size:1rem;backdrop-filter:blur(10px);transition:all .3s cubic-bezier(.4,0,.2,1)}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.input-wrapper[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{background:#ffffff0d;cursor:default;opacity:.8}.checkmark-icon[_ngcontent-%COMP%]{position:absolute;right:16px;color:#22c55e;font-size:20px;font-weight:700;pointer-events:none;z-index:1;display:flex;align-items:center;justify-content:center}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#fff9}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);background:#ffffff26;box-shadow:0 0 0 3px #d9770633}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#ff6b6b;background:#ff6b6b1a}.error-message[_ngcontent-%COMP%]{color:#ff6b6b;font-size:.85rem;font-weight:500;text-align:right;white-space:nowrap;max-width:200px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:32px}.btn-secondary[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;border:2px solid rgba(255,255,255,.3);border-radius:16px;padding:18px 28px;font-size:18px;font-weight:700;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);flex:1;min-height:56px;display:flex;align-items:center;justify-content:center}.btn-secondary[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-2px)}.btn-secondary[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-secondary[_ngcontent-%COMP%]:focus-visible{outline:3px solid rgba(255,255,255,.5);outline-offset:2px}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-primary[_ngcontent-%COMP%]:disabled:hover{transform:none}.info-section[_ngcontent-%COMP%]{margin-bottom:24px;background:#ffffff1a;border-radius:16px;padding:20px;box-shadow:0 4px 12px #0000001a;border:1px solid rgba(255,255,255,.2);backdrop-filter:blur(10px)}.info-section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.info-section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;text-align:left}.collapse-toggle-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;padding:8px;display:flex;align-items:center;justify-content:center;transition:transform .3s ease}.collapse-toggle-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:24px}.info-section-content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .5s ease-out,padding .5s ease-out;padding:0}.info-section-content.expanded[_ngcontent-%COMP%]{max-height:2000px;padding-top:24px}.field-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:8px}.field-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.field-edit-btn[_ngcontent-%COMP%]{background:var(--primary);border:none;border-radius:8px;padding:6px 12px;color:#fff;font-size:.85rem;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:4px;transition:all .3s ease;white-space:nowrap}.field-edit-btn[_ngcontent-%COMP%]:hover{background:#f97316;transform:translateY(-1px)}.field-edit-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:16px}.field-close-btn[_ngcontent-%COMP%]{background:#ef4444b3;color:#fff;border:none;border-radius:8px;padding:6px 12px;font-size:.85rem;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:4px;transition:all .3s ease;white-space:nowrap;box-sizing:border-box}.field-close-btn[_ngcontent-%COMP%]:hover{background:#ef4444e6;color:#fff;transform:translateY(-1px)}.field-close-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:16px}.checkmark-btn[_ngcontent-%COMP%]{background:#22c55e;color:#fff;border:none;border-radius:8px;padding:6px 12px;font-size:.85rem;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:4px;transition:all .3s ease;white-space:nowrap}.checkmark-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#16a34a;transform:translateY(-1px)}.checkmark-btn[_ngcontent-%COMP%]:disabled{background:#22c55e80;cursor:not-allowed;opacity:.6}.checkmark-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:16px}.form-group[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{background:#ffffff0d;cursor:default}.calendar-section[_ngcontent-%COMP%]{margin-top:0;padding-top:0;border-top:none;margin-bottom:24px}.calendar-header[_ngcontent-%COMP%]{margin-bottom:32px}.calendar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:20px;margin-bottom:24px}.calendar-month-title[_ngcontent-%COMP%]{font-size:1.5rem;margin:0;font-weight:800;text-transform:none;color:#fff;text-align:center;flex:1}.calendar-nav-btn[_ngcontent-%COMP%]{flex-shrink:0}.calendar-nav-btn[_ngcontent-%COMP%]{background:#ffffff1a;border:2px solid rgba(255,255,255,.2);border-radius:8px;padding:8px 12px;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.calendar-nav-btn[_ngcontent-%COMP%]:hover{background:#fff3;border-color:#ffffff4d}.calendar-nav-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:24px}.calendar-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin:0;font-weight:800;text-transform:none;color:#fff;text-align:center}.calendar-container[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:16px;padding:20px;backdrop-filter:blur(10px)}.calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:.4166666667vw;width:100%;max-width:100%}@media (max-width: 768px){.calendar-grid[_ngcontent-%COMP%]{gap:.2083333333vw}}.calendar-day[_ngcontent-%COMP%]{aspect-ratio:1;background:#ffffff1a;border:2px solid rgba(255,255,255,.2);border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;position:relative;padding:.4166666667vw;min-width:0;max-width:100%;overflow:hidden}.calendar-day[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.05)}.calendar-day-names[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:8px;margin-bottom:8px}.day-name[_ngcontent-%COMP%]{text-align:center;font-weight:600;color:#fffc;font-size:.9rem;padding:8px 0}.calendar-day.no-completion[_ngcontent-%COMP%]{background:#ef44444d;border-color:#ef4444}.calendar-day.partial-completion[_ngcontent-%COMP%]{background:#eab30866;border-color:#eab308}.calendar-day.full-completion[_ngcontent-%COMP%]{background:#22c55e66;border-color:#22c55e}.calendar-day.future-day[_ngcontent-%COMP%]{background:#3b82f64d;border-color:#3b82f6;opacity:.7}.calendar-day.other-month[_ngcontent-%COMP%]{background:#ffffff0d;border-color:#ffffff1a;opacity:.4;color:#ffffff80}.calendar-day.selected[_ngcontent-%COMP%]{border-width:3px;transform:scale(1.1);box-shadow:0 0 0 3px #6b46c14d}.day-number[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#fff}.goals-badge[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;background:var(--primary);color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:700}.day-details[_ngcontent-%COMP%]{margin-top:24px;background:#ffffff1a;border-radius:16px;padding:20px;backdrop-filter:blur(10px)}.day-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 0 16px;font-weight:700;color:#fff}.day-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin:16px 0 8px;font-weight:600;color:#ffffffe6}.day-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.day-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 12px;background:#ffffff1a;border-radius:8px;margin-bottom:8px;color:#fff}.uncompleted-goals-list[_ngcontent-%COMP%]{margin-top:24px}.uncompleted-goals-list[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin:16px 0 8px;font-weight:600;color:#ffffffe6}.uncompleted-goals-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.uncompleted-goals-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 12px;background:#ef444433;border-radius:8px;margin-bottom:8px;color:#fff;border-left:3px solid #EF4444}.daily-activities-section[_ngcontent-%COMP%]{margin-bottom:24px}.daily-activities-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin:0 0 12px;font-weight:600;color:#ffffffe6}.activities-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.activity-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px;background:#ffffff1a;border-radius:8px;border:2px solid rgba(255,255,255,.2)}.activity-name[_ngcontent-%COMP%]{color:#fff;font-size:.9rem}.activity-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:50%;font-weight:700}.activity-status.completed[_ngcontent-%COMP%]{background:#22c55e4d;color:#22c55e;border:2px solid #22C55E}.activity-status.not-completed[_ngcontent-%COMP%]{background:#ef44444d;color:#ef4444;border:2px solid #EF4444}.activity-status[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:20px}.no-completions[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#ffffffb3}"]})}}return o})()}}]);