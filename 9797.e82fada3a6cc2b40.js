"use strict";(self.webpackChunkbrain_power=self.webpackChunkbrain_power||[]).push([[9797],{9797:(D,u,l)=>{l.r(u),l.d(u,{MemoryGameComponent:()=>I});var g=l(177),f=l(3025),_=l(9112),e=l(4438),m=l(70),b=l(5096),v=l(8490);function M(r,a){1&r&&e.nrm(0,"div",13),2&r&&e.xc7("background-color",a.$implicit.color)}function x(r,a){if(1&r&&(e.j41(0,"div",11),e.DNE(1,M,1,2,"div",12),e.k0s()),2&r){const t=a.$implicit;e.R7$(),e.Y8G("ngForOf",t)}}function P(r,a){if(1&r&&(e.j41(0,"div",5)(1,"div",6)(2,"h2"),e.EFF(3),e.nI1(4,"t"),e.k0s(),e.j41(5,"p",7),e.EFF(6),e.nI1(7,"t"),e.j41(8,"strong"),e.EFF(9),e.k0s(),e.EFF(10),e.nI1(11,"t"),e.k0s()(),e.j41(12,"div",8),e.DNE(13,x,2,1,"div",9),e.k0s(),e.j41(14,"p",10),e.EFF(15),e.nI1(16,"t"),e.k0s()()),2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,8,"memorize_pattern")),e.R7$(3),e.SpI("",e.bMT(7,10,"pattern_will_hide_in")," "),e.R7$(3),e.JRh(t.getRemainingViewTime()),e.R7$(),e.SpI(" ",e.bMT(11,12,"seconds"),""),e.R7$(2),e.xc7("grid-template-columns","repeat("+t.gridSize+", 1fr)"),e.R7$(),e.Y8G("ngForOf",t.patternGrid),e.R7$(2),e.JRh(e.bMT(16,14,"watch_carefully_pattern"))}}function C(r,a){if(1&r&&(e.j41(0,"span",23),e.EFF(1),e.k0s()),2&r){const t=e.XpG().index,i=e.XpG().index,n=e.XpG(2);e.R7$(),e.JRh(i*n.gridSize+t+1)}}function y(r,a){1&r&&(e.j41(0,"span",24),e.EFF(1),e.nI1(2,"t"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"click_to_remove")))}function E(r,a){if(1&r){const t=e.RV6();e.j41(0,"div",20),e.bIt("click",function(){const n=e.eBV(t).index,o=e.XpG().index,s=e.XpG(2);return e.Njj(s.removePiece(o,n))}),e.DNE(1,C,2,1,"span",21)(2,y,3,3,"span",22),e.k0s()}if(2&r){const t=a.$implicit,i=a.index,n=e.XpG().index;e.xc7("background-color",t.isPlaced?t.color:"#2a2a2a"),e.AVh("filled",t.isPlaced),e.BMQ("data-row",n)("data-col",i),e.R7$(),e.Y8G("ngIf",!t.isPlaced),e.R7$(),e.Y8G("ngIf",t.isPlaced)}}function O(r,a){if(1&r&&(e.j41(0,"div",11),e.DNE(1,E,3,8,"div",19),e.k0s()),2&r){const t=a.$implicit;e.R7$(),e.Y8G("ngForOf",t)}}function G(r,a){1&r&&(e.j41(0,"span",27),e.EFF(1),e.nI1(2,"t"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"used")))}function w(r,a){if(1&r){const t=e.RV6();e.j41(0,"div",25),e.bIt("mousedown",function(n){const o=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.onPieceMouseDown(n,o))}),e.DNE(1,G,3,3,"span",26),e.k0s()}if(2&r){const t=a.$implicit,i=e.XpG(2);e.xc7("background-color",t.color)("cursor",t.isUsed||"playing"!==i.phase?"not-allowed":"grab"),e.AVh("used",t.isUsed),e.BMQ("draggable",!1),e.R7$(),e.Y8G("ngIf",t.isUsed)}}function k(r,a){if(1&r&&(e.j41(0,"div",5)(1,"div",6)(2,"h2"),e.EFF(3),e.nI1(4,"t"),e.k0s(),e.j41(5,"p",10),e.EFF(6),e.nI1(7,"t"),e.k0s()(),e.j41(8,"div",14)(9,"div",15),e.EFF(10),e.nI1(11,"t"),e.k0s(),e.j41(12,"div",8),e.DNE(13,O,2,1,"div",9),e.k0s()(),e.j41(14,"div",16)(15,"div",15),e.EFF(16),e.nI1(17,"t"),e.k0s(),e.j41(18,"div",17),e.DNE(19,w,2,8,"div",18),e.k0s()()()),2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,9,"recreate_pattern")),e.R7$(3),e.JRh(e.bMT(7,11,"drag_pieces_to_grid")),e.R7$(4),e.JRh(e.bMT(11,13,"your_pattern")),e.R7$(2),e.xc7("grid-template-columns","repeat("+t.gridSize+", 1fr)"),e.R7$(),e.Y8G("ngForOf",t.userGrid),e.R7$(3),e.JRh(e.bMT(17,15,"available_pieces")),e.R7$(3),e.Y8G("ngForOf",t.availablePieces)("ngForTrackBy",t.trackByPieceId)}}function T(r,a){if(1&r){const t=e.RV6();e.j41(0,"div",28)(1,"div",29)(2,"div",30),e.EFF(3,"\u{1f389}"),e.k0s(),e.j41(4,"h2"),e.EFF(5),e.nI1(6,"t"),e.k0s(),e.j41(7,"p",31),e.EFF(8),e.nI1(9,"t"),e.k0s(),e.j41(10,"div",32)(11,"div",33)(12,"span",34),e.EFF(13),e.nI1(14,"t"),e.k0s(),e.j41(15,"span",35),e.EFF(16),e.nI1(17,"number"),e.k0s()(),e.j41(18,"div",33)(19,"span",34),e.EFF(20),e.nI1(21,"t"),e.k0s(),e.j41(22,"span",35),e.EFF(23),e.k0s()()(),e.j41(24,"div",36)(25,"button",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.restartGame())}),e.EFF(26),e.nI1(27,"t"),e.k0s(),e.j41(28,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.goBack())}),e.EFF(29),e.nI1(30,"t"),e.k0s()()()()}if(2&r){const t=e.XpG();e.R7$(5),e.JRh(e.bMT(6,8,"congratulations")),e.R7$(3),e.JRh(e.bMT(9,10,"pattern_matched")),e.R7$(5),e.SpI("",e.bMT(14,12,"time"),":"),e.R7$(3),e.SpI("",e.i5U(17,14,t.completionTime/1e3,"1.1-1"),"s"),e.R7$(4),e.SpI("",e.bMT(21,17,"score"),":"),e.R7$(3),e.JRh(t.score),e.R7$(3),e.SpI(" ",e.bMT(27,19,"play_again")," "),e.R7$(3),e.SpI(" ",e.bMT(30,21,"back_to_activities")," ")}}function F(r,a){if(1&r){const t=e.RV6();e.j41(0,"div",39)(1,"div",29)(2,"div",30),e.EFF(3,"\u{1f614}"),e.k0s(),e.j41(4,"h2"),e.EFF(5),e.nI1(6,"t"),e.k0s(),e.j41(7,"p",40),e.EFF(8),e.nI1(9,"t"),e.k0s(),e.j41(10,"div",36)(11,"button",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.restartGame())}),e.EFF(12),e.nI1(13,"t"),e.k0s(),e.j41(14,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.goBack())}),e.EFF(15),e.nI1(16,"t"),e.k0s()()()()}2&r&&(e.R7$(5),e.JRh(e.bMT(6,4,"not_quite_right")),e.R7$(3),e.JRh(e.bMT(9,6,"pattern_mismatch")),e.R7$(4),e.SpI(" ",e.bMT(13,8,"try_again")," "),e.R7$(3),e.SpI(" ",e.bMT(16,10,"back_to_activities")," "))}let I=(()=>{class r{constructor(t,i,n,o){this.router=t,this.route=i,this.translateService=n,this.dataService=o,this.level="beginner",this.phase="viewing",this.gridSize=3,this.viewDuration=5e3,this.patternGrid=[],this.userGrid=[],this.availablePieces=[],this.draggedPiece=null,this.isDragging=!1,this.dragOffset={x:0,y:0},this.draggedElement=null,this.boundMouseMove=null,this.boundMouseUp=null,this.remainingSeconds=0,this.colors=["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8","#F7DC6F","#BB8FCE","#85C1E2"],this.startTime=0,this.completionTime=0,this.score=0}ngOnInit(){this.route.queryParams.subscribe(t=>{this.level=t.level||"beginner",this.initializeGame()})}ngAfterViewInit(){setTimeout(()=>{this.updateDraggableAttributes()},100)}updateDraggableAttributes(){requestAnimationFrame(()=>{document.querySelectorAll(".draggable-piece").forEach((i,n)=>{const o=i;if(n<this.availablePieces.length){const s=this.availablePieces[n];s&&!s.isUsed&&"playing"===this.phase?(o.setAttribute("draggable","true"),o.style.cursor="grab"):(o.setAttribute("draggable","false"),o.style.cursor="not-allowed")}})})}ngOnDestroy(){this.viewTimer&&clearTimeout(this.viewTimer),this.countdownInterval&&clearInterval(this.countdownInterval),this.boundMouseMove&&document.removeEventListener("mousemove",this.boundMouseMove),this.boundMouseUp&&document.removeEventListener("mouseup",this.boundMouseUp),this.draggedElement&&this.draggedElement.remove()}initializeGame(){switch(this.level){case"beginner":this.gridSize=3,this.viewDuration=5e3;break;case"advanced":this.gridSize=4,this.viewDuration=6e3;break;case"grand":this.gridSize=5,this.viewDuration=7e3}this.generatePattern(),this.initializeUserGrid(),this.generateAvailablePieces(),this.startViewingPhase()}generatePattern(){this.patternGrid=[];const t=[];for(let n=0;n<this.gridSize;n++){this.patternGrid[n]=[];for(let o=0;o<this.gridSize;o++){const s=this.colors[Math.floor(Math.random()*this.colors.length)];t.push(s),this.patternGrid[n][o]={row:n,col:o,color:s,isPlaced:!0}}}[...new Set(t)].length<3&&this.generatePattern()}initializeUserGrid(){this.userGrid=[];for(let t=0;t<this.gridSize;t++){this.userGrid[t]=[];for(let i=0;i<this.gridSize;i++)this.userGrid[t][i]={row:t,col:i,color:"",isPlaced:!1}}}generateAvailablePieces(){const t=[];this.patternGrid.forEach(n=>{n.forEach(o=>{t.push(o.color)})});const i=[...new Set(t)];this.availablePieces=[],i.forEach((n,o)=>{this.availablePieces.push({id:o,color:n,isUsed:!1})}),"beginner"!==this.level&&this.colors.filter(o=>!i.includes(o)).slice(0,2).forEach((o,s)=>{this.availablePieces.push({id:i.length+s,color:o,isUsed:!1})}),this.availablePieces=this.shuffleArray([...this.availablePieces])}shuffleArray(t){const i=[...t];for(let n=i.length-1;n>0;n--){const o=Math.floor(Math.random()*(n+1));[i[n],i[o]]=[i[o],i[n]]}return i}startViewingPhase(){this.phase="viewing",this.startTime=Date.now(),this.remainingSeconds=Math.ceil(this.viewDuration/1e3),this.countdownInterval=setInterval(()=>{this.remainingSeconds--,this.remainingSeconds<=0&&(clearInterval(this.countdownInterval),this.countdownInterval=null)},1e3),this.viewTimer=setTimeout(()=>{this.countdownInterval&&(clearInterval(this.countdownInterval),this.countdownInterval=null),this.phase="playing",this.viewTimer=null,this.remainingSeconds=0,setTimeout(()=>{this.updateDraggableAttributes()},100)},this.viewDuration)}trackByPieceId(t,i){return i.id}onPieceMouseDown(t,i){if(0!==t.button||i.isUsed||"playing"!==this.phase)return;t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.isDragging=!0,this.draggedPiece=i;const n=t.currentTarget;if(!n)return;this.draggedElement=n.cloneNode(!0),this.draggedElement.style.position="fixed",this.draggedElement.style.pointerEvents="none",this.draggedElement.style.zIndex="10000",this.draggedElement.style.opacity="0.8",this.draggedElement.style.transform="scale(1.2)",this.draggedElement.style.cursor="grabbing";const o=n.getBoundingClientRect();this.dragOffset.x=t.clientX-o.left,this.dragOffset.y=t.clientY-o.top,this.draggedElement.style.left=t.clientX-this.dragOffset.x+"px",this.draggedElement.style.top=t.clientY-this.dragOffset.y+"px",this.draggedElement.style.width=o.width+"px",this.draggedElement.style.height=o.height+"px",document.body.appendChild(this.draggedElement),n.style.opacity="0.5",this.boundMouseMove=s=>this.onMouseMove(s),this.boundMouseUp=s=>this.onMouseUp(s),document.addEventListener("mousemove",this.boundMouseMove,!0),document.addEventListener("mouseup",this.boundMouseUp,!0)}onMouseMove(t){if(!this.isDragging||!this.draggedElement)return;t.preventDefault(),this.draggedElement.style.left=t.clientX-this.dragOffset.x+"px",this.draggedElement.style.top=t.clientY-this.dragOffset.y+"px";const i=document.elementFromPoint(t.clientX,t.clientY);if(i){const n=i.closest(".drop-zone");if(n){document.querySelectorAll(".drag-over").forEach(c=>{c!==n&&c.classList.remove("drag-over")});const o=parseInt(n.getAttribute("data-row")||"0"),s=parseInt(n.getAttribute("data-col")||"0");this.userGrid[o][s].isPlaced||n.classList.add("drag-over")}else document.querySelectorAll(".drag-over").forEach(o=>{o.classList.remove("drag-over")})}}onMouseUp(t){if(!this.isDragging||!this.draggedPiece)return;t.preventDefault(),this.boundMouseMove&&(document.removeEventListener("mousemove",this.boundMouseMove),this.boundMouseMove=null),this.boundMouseUp&&(document.removeEventListener("mouseup",this.boundMouseUp),this.boundMouseUp=null),this.draggedElement&&(this.draggedElement.remove(),this.draggedElement=null),document.querySelectorAll(".draggable-piece").forEach(o=>{"0.5"===o.style.opacity&&(o.style.opacity="1")});const n=document.elementFromPoint(t.clientX,t.clientY);if(n&&this.draggedPiece){const o=n.closest(".drop-zone");if(o){o.classList.remove("drag-over");const s=parseInt(o.getAttribute("data-row")||"0"),c=parseInt(o.getAttribute("data-col")||"0");!this.userGrid[s][c].isPlaced&&!this.draggedPiece.isUsed&&(this.userGrid[s][c].color=this.draggedPiece.color,this.userGrid[s][c].isPlaced=!0,this.draggedPiece.isUsed=!0,this.userGrid=[...this.userGrid],this.availablePieces=[...this.availablePieces],setTimeout(()=>{this.updateDraggableAttributes()},0),this.checkCompletion())}}document.querySelectorAll(".drag-over").forEach(o=>{o.classList.remove("drag-over")}),this.isDragging=!1,this.draggedPiece=null}onDragStart(t,i){return i.preventDefault(),!1}onDragEnd(t){}onDragEnter(t,i,n){t.preventDefault(),t.stopPropagation();const o=t.currentTarget;o&&o.classList.contains("drop-zone")&&!this.userGrid[i][n].isPlaced&&o.classList.add("drag-over")}onDragLeave(t,i,n){t.preventDefault();const o=t.currentTarget;o&&o.classList.contains("drop-zone")&&o.classList.remove("drag-over")}onDragOver(t,i,n){t.preventDefault(),t.stopPropagation(),t.dataTransfer&&(t.dataTransfer.dropEffect=this.userGrid[i][n].isPlaced?"none":"move");const o=t.currentTarget;o&&o.classList.contains("drop-zone")&&!this.userGrid[i][n].isPlaced&&o.classList.add("drag-over")}onDrop(t,i,n){t.preventDefault(),t.stopPropagation();const o=t.currentTarget;o&&o.classList.remove("drag-over");let s=this.draggedPiece;if(!s&&t.dataTransfer)try{const c=t.dataTransfer.getData("application/json");if(c){const p=JSON.parse(c),d=this.availablePieces.find(h=>h.id===p.id);d&&(s=d)}}catch{const p=parseInt(t.dataTransfer.getData("text/plain"));if(!isNaN(p)){const d=this.availablePieces.find(h=>h.id===p);d&&(s=d)}}!s||s.isUsed||this.userGrid[i][n].isPlaced||"playing"!==this.phase||(this.userGrid[i][n].color=s.color,this.userGrid[i][n].isPlaced=!0,s.isUsed=!0,this.draggedPiece=null,this.userGrid=[...this.userGrid],this.availablePieces=[...this.availablePieces],setTimeout(()=>{this.updateDraggableAttributes()},0),this.checkCompletion())}removePiece(t,i){if("playing"!==this.phase||!this.userGrid[t][i].isPlaced)return;const n=this.availablePieces.find(o=>o.color===this.userGrid[t][i].color&&o.isUsed);n&&(n.isUsed=!1),this.userGrid[t][i].color="",this.userGrid[t][i].isPlaced=!1}checkCompletion(){if(!this.userGrid.every(s=>s.every(c=>c.isPlaced)))return;let i=0;for(let s=0;s<this.gridSize;s++)for(let c=0;c<this.gridSize;c++)this.userGrid[s][c].color===this.patternGrid[s][c].color&&i++;const o=i/(this.gridSize*this.gridSize);1===o?(this.completionTime=Date.now()-this.startTime,this.score=Math.max(0,1e3-Math.floor(this.completionTime/100)),this.phase="completed",this.markAsCompleted()):o>=.7?(this.completionTime=Date.now()-this.startTime,this.score=Math.max(0,Math.floor(1e3*o-Math.floor(this.completionTime/100))),this.phase="completed",this.markAsCompleted()):this.phase="failed"}markAsCompleted(){Math.floor(this.completionTime/1e3)}restartGame(){this.initializeGame()}goBack(){this.router.navigate(["/lets-begin"])}getRemainingViewTime(){return this.remainingSeconds}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(m.Ix),e.rXU(m.nX),e.rXU(b.c),e.rXU(v.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-memory-game"]],standalone:!0,features:[e.aNF],decls:7,vars:7,consts:[[3,"title"],[1,"content"],["class","game-container",4,"ngIf"],["class","game-container completed",4,"ngIf"],["class","game-container failed",4,"ngIf"],[1,"game-container"],[1,"phase-header"],[1,"countdown"],[1,"pattern-grid"],["class","pattern-row",4,"ngFor","ngForOf"],[1,"instruction-text"],[1,"pattern-row"],["class","pattern-cell",3,"background-color",4,"ngFor","ngForOf"],[1,"pattern-cell"],[1,"user-grid-container"],[1,"grid-label"],[1,"pieces-container"],[1,"pieces-grid"],["class","draggable-piece",3,"used","background-color","cursor","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],["class","pattern-cell drop-zone",3,"filled","background-color","click",4,"ngFor","ngForOf"],[1,"pattern-cell","drop-zone",3,"click"],["class","cell-number",4,"ngIf"],["class","remove-hint",4,"ngIf"],[1,"cell-number"],[1,"remove-hint"],[1,"draggable-piece",3,"mousedown"],["class","piece-hint",4,"ngIf"],[1,"piece-hint"],[1,"game-container","completed"],[1,"completion-card"],[1,"completion-icon"],[1,"success-message"],[1,"score-display"],[1,"score-item"],[1,"score-label"],[1,"score-value"],[1,"button-group"],[1,"btn-primary",3,"click"],[1,"btn-secondary",3,"click"],[1,"game-container","failed"],[1,"error-message"]],template:function(i,n){1&i&&(e.nrm(0,"app-header",0),e.nI1(1,"t"),e.j41(2,"section",1),e.DNE(3,P,17,16,"div",2)(4,k,20,17,"div",2)(5,T,31,23,"div",3)(6,F,17,12,"div",4),e.k0s()),2&i&&(e.Y8G("title",e.bMT(1,5,"memory_game_image_patterns")),e.R7$(3),e.Y8G("ngIf","viewing"===n.phase),e.R7$(),e.Y8G("ngIf","playing"===n.phase),e.R7$(),e.Y8G("ngIf","completed"===n.phase),e.R7$(),e.Y8G("ngIf","failed"===n.phase))},dependencies:[g.MD,g.Sq,g.bT,g.QX,f.y,_.Z],styles:[".content[_ngcontent-%COMP%]{padding:24px;max-width:800px;margin:0 auto;min-height:calc(100vh - 100px)}.game-container[_ngcontent-%COMP%]{width:100%}.phase-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.phase-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#fff;margin:0 0 12px;text-shadow:0 2px 4px rgba(0,0,0,.3)}.countdown[_ngcontent-%COMP%]{font-size:1.2rem;color:#ffffffe6;margin:0}.countdown[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:gold;font-size:1.5rem}.instruction-text[_ngcontent-%COMP%]{text-align:center;font-size:1.1rem;color:#fffc;margin:16px 0}.pattern-grid[_ngcontent-%COMP%]{display:grid;gap:8px;max-width:400px;margin:0 auto 32px;padding:16px;background:#0000004d;border-radius:16px;backdrop-filter:blur(10px)}.pattern-row[_ngcontent-%COMP%]{display:contents}.pattern-cell[_ngcontent-%COMP%]{aspect-ratio:1;border-radius:8px;border:3px solid rgba(255,255,255,.2);transition:all .2s ease;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.pattern-cell[_ngcontent-%COMP%]:hover{transform:scale(1.05);border-color:#fff6}.drop-zone[_ngcontent-%COMP%]{border:3px dashed rgba(255,255,255,.3);background:#2a2a2a!important;user-select:none;-webkit-user-select:none;pointer-events:auto}.drop-zone.filled[_ngcontent-%COMP%]{border-style:solid;border-color:#fff6}.drop-zone[_ngcontent-%COMP%]:hover:not(.filled){border-color:#ffffff80;background:#333!important}.drop-zone.drag-over[_ngcontent-%COMP%]:not(.filled){border-color:gold;background:#ffd70033!important;border-width:4px;transform:scale(1.05)}.cell-number[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff6;font-weight:700}.remove-hint[_ngcontent-%COMP%]{font-size:.7rem;color:#fff9;text-align:center;padding:4px;display:none}.drop-zone.filled[_ngcontent-%COMP%]:hover   .remove-hint[_ngcontent-%COMP%]{display:block}.user-grid-container[_ngcontent-%COMP%]{margin-bottom:48px}.grid-label[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:700;color:#fff;margin-bottom:16px;text-shadow:0 2px 4px rgba(0,0,0,.3)}.pieces-container[_ngcontent-%COMP%]{margin-top:32px}.pieces-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;justify-content:center;padding:24px;background:#0000004d;border-radius:16px;backdrop-filter:blur(10px);pointer-events:auto}.draggable-piece[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;border:3px solid rgba(255,255,255,.3);cursor:grab;transition:all .2s ease;display:flex;align-items:center;justify-content:center;position:relative;box-shadow:0 4px 8px #0000004d;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-touch-callout:none;pointer-events:auto!important;touch-action:pan-y}.draggable-piece[_ngcontent-%COMP%]:hover:not(.used){transform:scale(1.1) translateY(-4px);border-color:#fff9;box-shadow:0 8px 16px #0006}.draggable-piece[_ngcontent-%COMP%]:active:not(.used){cursor:grabbing!important;opacity:.8}.draggable-piece[draggable=true][_ngcontent-%COMP%], .draggable-piece[draggable=true][_ngcontent-%COMP%]:hover{cursor:grab}.draggable-piece[draggable=true][_ngcontent-%COMP%]:active{cursor:grabbing!important}.draggable-piece[draggable=false][_ngcontent-%COMP%], .draggable-piece.used[_ngcontent-%COMP%]{opacity:.3;cursor:not-allowed;filter:grayscale(100%);pointer-events:none}.piece-hint[_ngcontent-%COMP%]{font-size:.7rem;color:#fffc;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.5)}.completion-card[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;background:#0006;border-radius:24px;backdrop-filter:blur(10px);box-shadow:0 8px 32px #0000004d}.completion-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:16px}.completion-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;color:#fff;margin:0 0 16px;text-shadow:0 2px 4px rgba(0,0,0,.3)}.success-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{font-size:1.3rem;color:#ffffffe6;margin:0 0 32px}.error-message[_ngcontent-%COMP%]{color:#ff6b6b}.score-display[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:48px;margin:32px 0;padding:24px;background:#ffffff1a;border-radius:16px}.score-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.score-label[_ngcontent-%COMP%]{font-size:1rem;color:#ffffffb3}.score-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:gold;text-shadow:0 2px 4px rgba(0,0,0,.3)}.button-group[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;margin-top:32px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:16px 32px;border:none;border-radius:12px;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #0000004d}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#6d28d9);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #8b5cf680}.btn-secondary[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;border:2px solid rgba(255,255,255,.3)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-2px)}@media (max-width: 768px){.content[_ngcontent-%COMP%]{padding:16px}.phase-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.pattern-grid[_ngcontent-%COMP%]{max-width:100%;gap:6px;padding:12px}.pattern-cell[_ngcontent-%COMP%]{border-width:2px}.draggable-piece[_ngcontent-%COMP%]{width:50px;height:50px}.completion-card[_ngcontent-%COMP%]{padding:32px 16px}.completion-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.score-display[_ngcontent-%COMP%]{flex-direction:column;gap:24px}.button-group[_ngcontent-%COMP%]{flex-direction:column}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%}}"]})}}return r})()}}]);