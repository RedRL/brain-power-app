"use strict";(self.webpackChunkbrain_power=self.webpackChunkbrain_power||[]).push([[785],{785:(P,c,s)=>{s.r(c),s.d(c,{FeldenkraisSessionComponent:()=>k});var d=s(177),g=s(3025),v=s(9112),e=s(4438),p=s(70),u=s(5096);const f=["feldenkraisVideo"];function m(o,l){1&o&&(e.qSk(),e.j41(0,"svg",14),e.nrm(1,"path",25),e.k0s())}function h(o,l){1&o&&(e.qSk(),e.j41(0,"svg",14),e.nrm(1,"path",26),e.k0s())}function w(o,l){1&o&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"t"),e.k0s()),2&o&&(e.R7$(),e.JRh(e.bMT(2,1,"play_video")))}function _(o,l){1&o&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"t"),e.k0s()),2&o&&(e.R7$(),e.JRh(e.bMT(2,1,"pause_video")))}function b(o,l){if(1&o){const t=e.RV6();e.j41(0,"div",27)(1,"div",28)(2,"div",29),e.EFF(3,"\u{1f389}"),e.k0s(),e.j41(4,"h2"),e.EFF(5),e.nI1(6,"t"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"t"),e.k0s(),e.j41(10,"button",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.goBack())}),e.EFF(11),e.nI1(12,"t"),e.k0s()()()}2&o&&(e.R7$(5),e.JRh(e.bMT(6,3,"congratulations")),e.R7$(3),e.JRh(e.bMT(9,5,"feldenkrais_completed_message")),e.R7$(3),e.SpI(" ",e.bMT(12,7,"continue")," "))}let k=(()=>{class o{constructor(t,r,n){this.router=t,this.route=r,this.translateService=n,this.maxWatchedTime=0,this.currentTime=0,this.duration=0,this.progressPercentage=0,this.showCongratulations=!1,this.isPlaying=!1,this.isFullscreen=!1,this.videoType="youtube",this.videoUrl=""}ngOnInit(){this.route.queryParams.subscribe(t=>{this.videoType=t.type||"youtube",this.setVideoUrl()})}setVideoUrl(){switch(this.videoType){case"youtube":default:this.videoUrl="https://brain-power-app.s3.eu-north-1.amazonaws.com/videos/Feldenkrais+lesson+one+person+vertical+compressed.mp4";break;case"ai-youtube":this.videoUrl="https://brain-power-app.s3.eu-north-1.amazonaws.com/videos/Feldenkrais+lesson+brain+power+YouTube+to+AI.mp4";break;case"ai-video":this.videoUrl="https://brain-power-app.s3.eu-north-1.amazonaws.com/videos/Feldenkrais+lesson+alien+1.mp4"}}onVideoLoaded(){this.duration=this.feldenkraisVideo.nativeElement.duration,console.log("Video loaded. Duration:",this.duration)}onVideoError(t){console.error("Video error:",t),console.error("Error details:",t.target.error)}onTimeUpdate(){this.currentTime=this.feldenkraisVideo.nativeElement.currentTime,this.currentTime>this.maxWatchedTime&&(this.maxWatchedTime=this.currentTime),this.progressPercentage=this.maxWatchedTime/this.duration*100,this.maxWatchedTime>=this.duration-1&&!this.showCongratulations&&(this.showCongratulations=!0,this.markFeldenkraisSessionCompleted())}onPlay(){this.isPlaying=!0}onPause(){this.isPlaying=!1}togglePlayPause(){const t=this.feldenkraisVideo.nativeElement;t.paused?t.play():t.pause()}rewind5Seconds(){const t=this.feldenkraisVideo.nativeElement;t.currentTime=Math.max(0,t.currentTime-5)}toggleFullscreen(){const t=document.querySelector(".video-wrapper");document.fullscreenElement?document.exitFullscreen().then(()=>{this.isFullscreen=!1}):t.requestFullscreen().then(()=>{this.isFullscreen=!0})}markFeldenkraisSessionCompleted(){const t=(new Date).toISOString().split("T")[0];localStorage.setItem("feldenkraisSessionCompleted",t)}goBack(){this.router.navigate(["/lets-begin"])}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(p.Ix),e.rXU(p.nX),e.rXU(u.c))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-feldenkrais-session"]],viewQuery:function(r,n){if(1&r&&e.GBs(f,5),2&r){let i;e.mGM(i=e.lsd())&&(n.feldenkraisVideo=i.first)}},standalone:!0,features:[e.aNF],decls:40,vars:27,consts:[["videoContainer",""],["feldenkraisVideo",""],[3,"title"],[1,"content"],[1,"video-wrapper"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"video-frame"],["crossorigin","anonymous",1,"feldenkrais-video",3,"timeupdate","loadedmetadata","play","pause","error","src"],[1,"custom-controls"],[1,"control-wrapper","rewind-wrapper"],["aria-label","Rewind 5 seconds",1,"control-btn",3,"click"],["width","32","height","32","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 5V1L7 6L12 11V7C15.31 7 18 9.69 18 13C18 16.31 15.31 19 12 19C8.69 19 6 16.31 6 13H4C4 17.42 7.58 21 12 21C16.42 21 20 17.42 20 13C20 8.58 16.42 5 12 5Z","fill","currentColor"],["x","12","y","16","text-anchor","middle","font-size","9","fill","currentColor","font-weight","bold"],[1,"tooltip","tooltip-left"],[1,"tooltip-arrow"],[1,"control-wrapper","play-wrapper"],[1,"control-btn",3,"click"],["width","32","height","32","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],[1,"tooltip","tooltip-right"],[4,"ngIf"],["class","congratulations-overlay",4,"ngIf"],["d","M8 5V19L19 12L8 5Z","fill","currentColor"],["d","M6 4H10V20H6V4ZM14 4H18V20H14V4Z","fill","currentColor"],[1,"congratulations-overlay"],[1,"congratulations-card"],[1,"congrats-icon"],[1,"btn-primary",3,"click"]],template:function(r,n){if(1&r){const i=e.RV6();e.nrm(0,"app-header",2),e.nI1(1,"t"),e.j41(2,"section",3)(3,"div",4,0)(5,"div",5)(6,"div",6),e.nrm(7,"div",7),e.k0s(),e.j41(8,"div",8)(9,"span"),e.EFF(10),e.nI1(11,"t"),e.nI1(12,"number"),e.k0s()()(),e.j41(13,"div",9)(14,"video",10,1),e.bIt("timeupdate",function(){return e.eBV(i),e.Njj(n.onTimeUpdate())})("loadedmetadata",function(){return e.eBV(i),e.Njj(n.onVideoLoaded())})("play",function(){return e.eBV(i),e.Njj(n.onPlay())})("pause",function(){return e.eBV(i),e.Njj(n.onPause())})("error",function(C){return e.eBV(i),e.Njj(n.onVideoError(C))}),e.j41(16,"p"),e.EFF(17),e.nI1(18,"t"),e.k0s()()(),e.j41(19,"div",11)(20,"div",12)(21,"button",13),e.bIt("click",function(){return e.eBV(i),e.Njj(n.rewind5Seconds())}),e.qSk(),e.j41(22,"svg",14),e.nrm(23,"path",15),e.j41(24,"text",16),e.EFF(25,"5"),e.k0s()()(),e.joV(),e.j41(26,"div",17),e.nrm(27,"div",18),e.j41(28,"span"),e.EFF(29),e.nI1(30,"t"),e.k0s()()(),e.j41(31,"div",19)(32,"button",20),e.bIt("click",function(){return e.eBV(i),e.Njj(n.togglePlayPause())}),e.DNE(33,m,2,0,"svg",21)(34,h,2,0,"svg",21),e.k0s(),e.j41(35,"div",22),e.nrm(36,"div",18),e.DNE(37,w,3,3,"span",23)(38,_,3,3,"span",23),e.k0s()()()(),e.DNE(39,b,13,9,"div",24),e.k0s()}2&r&&(e.Y8G("title",e.bMT(1,16,"feldenkrais_movement")),e.R7$(7),e.xc7("width",n.progressPercentage,"%"),e.R7$(3),e.Lme("",e.bMT(11,18,"video_progress"),": ",e.i5U(12,20,n.progressPercentage,"1.0-0"),"%"),e.R7$(4),e.Y8G("src",n.videoUrl,e.B4B),e.R7$(3),e.JRh(e.bMT(18,23,"video_not_supported")),e.R7$(2),e.AVh("rtl","he"===n.translateService.lang),e.R7$(10),e.JRh(e.bMT(30,25,"rewind_5_seconds")),e.R7$(3),e.BMQ("aria-label",n.isPlaying?"Pause":"Play"),e.R7$(),e.Y8G("ngIf",!n.isPlaying),e.R7$(),e.Y8G("ngIf",n.isPlaying),e.R7$(3),e.Y8G("ngIf",!n.isPlaying),e.R7$(),e.Y8G("ngIf",n.isPlaying),e.R7$(),e.Y8G("ngIf",n.showCongratulations))},dependencies:[d.MD,d.bT,d.QX,g.y,v.Z],styles:[".content[_ngcontent-%COMP%]{padding:8vw 4vw 4vw;max-width:900px;margin:0 auto;height:100%}.video-wrapper[_ngcontent-%COMP%]{position:relative;background:#0000004d;border-radius:3vw;padding:3vw;margin-bottom:4vw;backdrop-filter:blur(10px)}.video-frame[_ngcontent-%COMP%]{position:relative;overflow:visible;border-radius:2vw;margin-bottom:2.5vw;max-width:280px;margin-left:auto;margin-right:auto;aspect-ratio:9/16}.feldenkrais-video[_ngcontent-%COMP%]{width:100%;height:100%;display:block;border-radius:2vw;box-shadow:0 1vw 5vw #0000004d;background:#000;object-fit:cover;object-position:center top}@media (max-width: 768px){.video-frame[_ngcontent-%COMP%]{max-width:100%}.feldenkrais-video[_ngcontent-%COMP%]{height:100%}}.custom-controls[_ngcontent-%COMP%]{position:absolute;bottom:-3vw;left:50%;transform:translate(-50%);display:flex;gap:2.5vw;justify-content:center;align-items:center;padding:1.5vw;background:#16a34acc;backdrop-filter:blur(10px);border-radius:2vw;border:1px solid rgba(22,163,74,.9);z-index:10}.custom-controls.rtl[_ngcontent-%COMP%]{flex-direction:row-reverse}.control-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center}.control-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:15vw;height:15vw;background:#ffffff26;border:2px solid rgba(255,255,255,.3);border-radius:2vw;cursor:pointer;transition:all .3s ease;color:#fff;backdrop-filter:blur(5px)}.control-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;border-color:#ffffff80;transform:scale(1.05);box-shadow:0 .5vw 2vw #0000004d}.control-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.control-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:9vw;height:9vw;filter:drop-shadow(0 .3vw .5vw rgba(0,0,0,.3))}.tooltip[_ngcontent-%COMP%]{position:absolute;background:linear-gradient(135deg,#f97316,#ea580c);color:#fff;padding:1vw 2vw;border-radius:1.2vw;font-size:3.5vw;font-weight:500;white-space:nowrap;text-align:center;line-height:1.4;opacity:1;pointer-events:none;transition:opacity .3s ease;z-index:1000;box-shadow:0 .5vw 2vw #f9731666;width:max-content;min-width:15vw}.tooltip-left[_ngcontent-%COMP%]{bottom:-6vw;right:-.3vw;transform:translateY(.7vw)}.tooltip-right[_ngcontent-%COMP%]{bottom:-6vw;left:.5vw;transform:translateY(.7vw)}.tooltip-arrow[_ngcontent-%COMP%]{position:absolute;top:-1.2vw;width:0;height:0;border-left:1.5vw solid transparent;border-right:1.5vw solid transparent;border-bottom:1.5vw solid #F97316}.tooltip-left[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{right:4vw;left:auto}.tooltip-right[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{left:4vw}[_ngcontent-%COMP%]:fullscreen   .progress-container[_ngcontent-%COMP%], [_ngcontent-%COMP%]:-webkit-full-screen   .progress-container[_ngcontent-%COMP%], [_ngcontent-%COMP%]:-moz-full-screen   .progress-container[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;z-index:10000;border-radius:0;background:#000c;backdrop-filter:blur(20px)}.progress-container[_ngcontent-%COMP%]{position:absolute;top:-4vw;left:50%;transform:translate(-50%);background:#16a34acc;backdrop-filter:blur(20px);border-radius:2.5vw;padding:1.5vw;border:1px solid rgba(22,163,74,.9);z-index:10;width:calc(100% - 12vw)}.progress-bar[_ngcontent-%COMP%]{width:100%;height:.8vw;background:#0000004d;border-radius:.8vw;overflow:hidden;position:relative;box-shadow:inset 0 .3vw .6vw #0000004d}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#10b981,#34d399,#6ee7b7);border-radius:.8vw;transition:width .3s ease;box-shadow:0 0 1.5vw #34d39980}.progress-text[_ngcontent-%COMP%]{margin-top:1.5vw;text-align:center;color:#fff;font-size:4vw;font-weight:600;text-shadow:0 .3vw .6vw rgba(0,0,0,.3)}.congratulations-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:10000;backdrop-filter:blur(10px)}.congratulations-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98133,#34d39933);backdrop-filter:blur(20px);border:2px solid rgba(52,211,153,.3);border-radius:4vw;padding:6vw;text-align:center;max-width:90vw;box-shadow:0 3vw 10vw #0009;animation:_ngcontent-%COMP%_slideUp .5s ease}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(5vw)}to{opacity:1;transform:translateY(0)}}.congrats-icon[_ngcontent-%COMP%]{font-size:10vw;margin-bottom:3vw;animation:_ngcontent-%COMP%_bounce 1s ease infinite}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-1.5vw)}}.congratulations-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:8vw;font-weight:800;margin:0 0 2.5vw;color:#fff;text-shadow:0 .3vw .6vw rgba(0,0,0,.5)}.congratulations-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5vw;color:#ffffffe6;margin:0 0 4vw;line-height:1.6}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#34d399);color:#fff;border:none;border-radius:2vw;padding:3vw 8vw;font-size:5vw;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 .6vw 2vw #10b98166}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-.3vw);box-shadow:0 1vw 3vw #10b98199}.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(0)}"]})}}return o})()}}]);