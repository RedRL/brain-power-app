"use strict";(self.webpackChunkbrain_power=self.webpackChunkbrain_power||[]).push([[343],{343:(v,r,o)=>{o.r(r),o.d(r,{LetsBeginComponent:()=>b});var c=o(70),l=o(177),d=o(3025),g=o(9112),p=o(5964),e=o(4438),h=o(8490);function m(s,u){if(1&s){const i=e.RV6();e.j41(0,"div",13),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.onCongratulationsOk())}),e.j41(1,"div",14),e.bIt("click",function(t){return e.eBV(i),e.Njj(t.stopPropagation())}),e.j41(2,"div",15),e.EFF(3,"\u{1f389}"),e.k0s(),e.j41(4,"h2"),e.EFF(5),e.nI1(6,"t"),e.k0s(),e.j41(7,"p",16),e.EFF(8),e.nI1(9,"t"),e.k0s(),e.j41(10,"button",17),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.onCongratulationsOk())}),e.EFF(11),e.nI1(12,"t"),e.k0s()()()}2&s&&(e.R7$(5),e.JRh(e.bMT(6,3,"congratulations")),e.R7$(3),e.JRh(e.bMT(9,5,"daily_routine_completed")),e.R7$(3),e.SpI(" ",e.bMT(12,7,"ok")," "))}let b=(()=>{class s{constructor(i,n){this.router=i,this.dataService=n,this.selectedLevel="beginner",this.exercises=[],this.completedToday=0,this.totalExercises=4,this.todayProgress=0,this.isMusicSessionCompleted=!1,this.isBreathingExerciseCompleted=!1,this.isFeldenkraisExerciseCompleted=!1,this.isMemoryGameCompleted=!1,this.showCongratulationsModal=!1}ngOnInit(){const i=localStorage.getItem("level");this.selectedLevel="advanced"===i||"grand"===i?i:"beginner",this.loadExercises(),this.updateProgress(),this.router.events.pipe((0,p.p)(n=>n instanceof c.wF)).subscribe(n=>{"/lets-begin"===n.url&&(this.updateProgress(),this.checkAndShowCongratulations())})}loadExercises(){this.exercises=this.dataService.getExercises(this.selectedLevel)}startExercise(i){"breathing"===i.id?this.startBreathingExercise():"memory"===i.id&&this.startGame()}startBreathingExercise(){this.router.navigate(["/breathing-options"],{queryParams:{duration:5,level:this.selectedLevel}})}startFeldenkraisExercise(){this.router.navigate(["/feldenkrais-options"],{queryParams:{level:this.selectedLevel}})}startGame(){this.router.navigate(["/game-options"],{queryParams:{level:this.selectedLevel}})}updateProgress(){this.checkAllActivityCompletions();let i=0;this.isMusicSessionCompleted&&i++,this.isBreathingExerciseCompleted&&i++,this.isFeldenkraisExerciseCompleted&&i++,this.isMemoryGameCompleted&&i++,this.completedToday=i,this.todayProgress=this.completedToday/this.totalExercises,this.checkAndShowCongratulations()}completeExercise(i,n,t){const a={date:(new Date).toISOString().split("T")[0],exerciseId:i,level:this.selectedLevel,durationSec:n,score:t};this.dataService.addCompletion(a),this.updateProgress()}checkAllActivityCompletions(){const i=(new Date).toISOString().split("T")[0],n=localStorage.getItem("musicSessionCompleted");this.isMusicSessionCompleted=n===i;const t=localStorage.getItem("breathingSessionCompleted");this.isBreathingExerciseCompleted=t===i;const a=localStorage.getItem("feldenkraisSessionCompleted");this.isFeldenkraisExerciseCompleted=a===i;const _=this.dataService.getTodayProgress();this.isMemoryGameCompleted=_.some(f=>"memory"===f.exerciseId)}checkMusicSessionCompletion(){this.checkAllActivityCompletions()}startMusicSession(){this.router.navigate(["/music-session"])}checkAndShowCongratulations(){if(this.dataService.isAllDailyActivitiesCompleted()){const i=(new Date).toISOString().split("T")[0];localStorage.getItem("dailyRoutineCongratulationsShown")!==i&&(this.showCongratulationsModal=!0,localStorage.setItem("dailyRoutineCongratulationsShown",i))}}onCongratulationsOk(){this.showCongratulationsModal=!1,this.router.navigate(["/goals"])}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(c.Ix),e.rXU(h.u))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-lets-begin"]],standalone:!0,features:[e.aNF],decls:77,vars:85,consts:[[3,"title"],[1,"content"],[1,"progress-bar"],[1,"progress-bar__fill"],[1,"muted"],[1,"activity-box","activity-box--1"],[1,"activity-header"],[1,"icon"],[1,"btn-activity",3,"click"],[1,"activity-box","activity-box--2"],[1,"activity-box","activity-box--3"],[1,"activity-box","activity-box--4"],["class","congratulations-overlay",3,"click",4,"ngIf"],[1,"congratulations-overlay",3,"click"],[1,"congratulations-modal",3,"click"],[1,"congratulations-icon"],[1,"congratulations-message"],[1,"btn-primary",3,"click"]],template:function(n,t){1&n&&(e.nrm(0,"app-header",0),e.nI1(1,"t"),e.j41(2,"section",1)(3,"h3"),e.EFF(4),e.nI1(5,"t"),e.k0s(),e.j41(6,"div",2),e.nrm(7,"div",3),e.k0s(),e.j41(8,"div",4),e.EFF(9),e.nI1(10,"t"),e.nI1(11,"t"),e.k0s(),e.j41(12,"div",5)(13,"div",6)(14,"span",7),e.EFF(15),e.k0s(),e.j41(16,"h3"),e.EFF(17),e.nI1(18,"t"),e.k0s()(),e.j41(19,"p"),e.EFF(20),e.nI1(21,"t"),e.k0s(),e.j41(22,"button",8),e.bIt("click",function(){return t.startMusicSession()}),e.j41(23,"span",7),e.EFF(24),e.k0s(),e.EFF(25),e.nI1(26,"t"),e.nI1(27,"t"),e.k0s()(),e.j41(28,"div",9)(29,"div",6)(30,"span",7),e.EFF(31),e.k0s(),e.j41(32,"h3"),e.EFF(33),e.nI1(34,"t"),e.k0s()(),e.j41(35,"p"),e.EFF(36),e.nI1(37,"t"),e.k0s(),e.j41(38,"button",8),e.bIt("click",function(){return t.startBreathingExercise()}),e.j41(39,"span",7),e.EFF(40),e.k0s(),e.EFF(41),e.nI1(42,"t"),e.nI1(43,"t"),e.k0s()(),e.j41(44,"div",10)(45,"div",6)(46,"span",7),e.EFF(47),e.k0s(),e.j41(48,"h3"),e.EFF(49),e.nI1(50,"t"),e.k0s()(),e.j41(51,"p"),e.EFF(52),e.nI1(53,"t"),e.k0s(),e.j41(54,"button",8),e.bIt("click",function(){return t.startFeldenkraisExercise()}),e.j41(55,"span",7),e.EFF(56),e.k0s(),e.EFF(57),e.nI1(58,"t"),e.nI1(59,"t"),e.k0s()(),e.j41(60,"div",11)(61,"div",6)(62,"span",7),e.EFF(63),e.k0s(),e.j41(64,"h3"),e.EFF(65),e.nI1(66,"t"),e.k0s()(),e.j41(67,"p"),e.EFF(68),e.nI1(69,"t"),e.k0s(),e.j41(70,"button",8),e.bIt("click",function(){return t.startGame()}),e.j41(71,"span",7),e.EFF(72),e.k0s(),e.EFF(73),e.nI1(74,"t"),e.nI1(75,"t"),e.k0s()()(),e.DNE(76,m,13,9,"div",12)),2&n&&(e.Y8G("title",e.bMT(1,45,"lets_begin")),e.R7$(4),e.JRh(e.bMT(5,47,"todays_activities")),e.R7$(3),e.xc7("width",100*t.todayProgress,"%"),e.R7$(2),e.LHq("",t.completedToday," ",e.bMT(10,49,"exercises_completed")," ",e.bMT(11,51,"out_of")," ",t.totalExercises,""),e.R7$(3),e.AVh("completed",t.isMusicSessionCompleted),e.R7$(3),e.JRh(t.isMusicSessionCompleted?"check_circle":"music_note"),e.R7$(2),e.JRh(e.bMT(18,53,"music_session")),e.R7$(3),e.JRh(e.bMT(21,55,"music_session_description")),e.R7$(2),e.AVh("btn-activity-completed",t.isMusicSessionCompleted),e.R7$(2),e.JRh(t.isMusicSessionCompleted?"refresh":"play_arrow"),e.R7$(),e.SpI(" ",t.isMusicSessionCompleted?e.bMT(26,57,"retake_music_session"):e.bMT(27,59,"start_music_session")," "),e.R7$(3),e.AVh("completed",t.isBreathingExerciseCompleted),e.R7$(3),e.JRh(t.isBreathingExerciseCompleted?"check_circle":"air"),e.R7$(2),e.JRh(e.bMT(34,61,"breathing_exercise")),e.R7$(3),e.JRh(e.bMT(37,63,"exercise_breathing_description")),e.R7$(2),e.AVh("btn-activity-completed",t.isBreathingExerciseCompleted),e.R7$(2),e.JRh(t.isBreathingExerciseCompleted?"refresh":"play_arrow"),e.R7$(),e.SpI(" ",t.isBreathingExerciseCompleted?e.bMT(42,65,"retake_breathing_exercise"):e.bMT(43,67,"start_breathing_exercise")," "),e.R7$(3),e.AVh("completed",t.isFeldenkraisExerciseCompleted),e.R7$(3),e.JRh(t.isFeldenkraisExerciseCompleted?"check_circle":"accessibility_new"),e.R7$(2),e.JRh(e.bMT(50,69,"feldenkrais_movement")),e.R7$(3),e.JRh(e.bMT(53,71,"feldenkrais_description")),e.R7$(2),e.AVh("btn-activity-completed",t.isFeldenkraisExerciseCompleted),e.R7$(2),e.JRh(t.isFeldenkraisExerciseCompleted?"refresh":"play_arrow"),e.R7$(),e.SpI(" ",t.isFeldenkraisExerciseCompleted?e.bMT(58,73,"retake_feldenkrais_exercise"):e.bMT(59,75,"start_feldenkrais_exercise")," "),e.R7$(3),e.AVh("completed",t.isMemoryGameCompleted),e.R7$(3),e.JRh(t.isMemoryGameCompleted?"check_circle":"psychology"),e.R7$(2),e.JRh(e.bMT(66,77,"game")),e.R7$(3),e.JRh(e.bMT(69,79,"game_description")),e.R7$(2),e.AVh("btn-activity-completed",t.isMemoryGameCompleted),e.R7$(2),e.JRh(t.isMemoryGameCompleted?"refresh":"play_arrow"),e.R7$(),e.SpI(" ",t.isMemoryGameCompleted?e.bMT(74,81,"retake_game"):e.bMT(75,83,"start_game")," "),e.R7$(3),e.Y8G("ngIf",t.showCongratulationsModal))},dependencies:[l.MD,l.bT,d.y,g.Z],styles:[".activity-box[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff73,#fff6);backdrop-filter:blur(20px);border-radius:5vw;padding:5vw;margin-bottom:8vw;border:1px solid rgba(255,255,255,.5);box-shadow:0 1vw 3vw #0000001a;width:100%;max-width:100%;box-sizing:border-box}.activity-box--1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444d9,#f97316bf);border:2px solid rgba(239,68,68,.9);box-shadow:0 12px 40px #ef444480}.activity-box--2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6d9,#ec4899bf);border:2px solid rgba(139,92,246,.9);box-shadow:0 12px 40px #8b5cf680}.activity-box--3[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981d9,#84cc16bf);border:2px solid rgba(16,185,129,.9);box-shadow:0 12px 40px #10b98180}.activity-box--4[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d97706d9,#fcd34dbf);border:2px solid rgba(217,119,6,.9);box-shadow:0 12px 40px #d9770680}.activity-box.completed[_ngcontent-%COMP%]{background:linear-gradient(135deg,#80808099,#60606080);border:2px solid rgba(128,128,128,.8);opacity:.7;filter:grayscale(.6)}.activity-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5vw;margin-bottom:-.5vw}.activity-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:6.5vw;font-weight:800;margin:0;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.3);line-height:1.2}.activity-header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:8vw;color:gold;text-shadow:0 2px 4px rgba(0,0,0,.3);flex-shrink:0}.activity-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;margin-bottom:7.5vw;font-size:5.5vw;line-height:1.6;text-shadow:0 1px 2px rgba(0,0,0,.2)}.exercise-duration[_ngcontent-%COMP%]{color:#fffc;font-size:4vw;margin-bottom:2.5vw;font-weight:600;text-shadow:0 1px 2px rgba(0,0,0,.2)}.btn-activity[_ngcontent-%COMP%]{background:linear-gradient(135deg,gold,orange);color:#000;border:none;border-radius:3.5vw;padding:4vw 4.5vw;font-size:5vw;font-weight:700;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 .5vw 1.75vw #ffd7004d;display:flex;align-items:center;justify-content:center;gap:1vw;min-height:6vw;width:100%;box-sizing:border-box;margin-bottom:2vw}.btn-activity[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,orange,#ff8c00);transform:translateY(-2px);box-shadow:0 8px 25px #ffd70066}.btn-activity[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-activity[_ngcontent-%COMP%]:focus-visible{outline:3px solid rgba(255,215,0,.5);outline-offset:2px}.btn-activity[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:7vw}.btn-activity-completed[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf50,#45a049)!important;color:#fff!important;opacity:.9}.btn-activity-completed[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#45a049,#3d8b40)!important;transform:translateY(-2px);box-shadow:0 8px 25px #4caf5066}.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:8vw;margin:3vw 1vw 2vw;font-weight:700;text-transform:none;text-shadow:0 2px 4px rgba(0,0,0,.3);line-height:1.3;text-align:center}.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:first-child{margin-top:0}.congratulations-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.congratulations-modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffffa,#fffffff2);backdrop-filter:blur(20px);border-radius:5.33vw;padding:6.4vw;max-width:80vw;width:100%;text-align:center;box-shadow:0 2.67vw 8vw #0000004d;animation:_ngcontent-%COMP%_slideUp .4s cubic-bezier(.4,0,.2,1);border:2px solid rgba(217,119,6,.3)}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(10.67vw);opacity:0}to{transform:translateY(0);opacity:1}}.congratulations-icon[_ngcontent-%COMP%]{font-size:13.33vw;margin-bottom:2.67vw;animation:_ngcontent-%COMP%_bounce 1s ease infinite}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-2.67vw)}}.congratulations-modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:6.4vw;font-weight:800;color:#333;margin:0 0 2.67vw;text-shadow:none}.congratulations-message[_ngcontent-%COMP%]{font-size:4.27vw;color:#666;margin:0 0 5.33vw;line-height:1.5}.congratulations-modal[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{font-size:4.27vw;padding:3.73vw 8vw;min-height:12.8vw;border-radius:3.2vw;background:linear-gradient(135deg,#d97706,#f97316);color:#fff;box-shadow:0 1.6vw 4vw #d9770666}"]})}}return s})()}}]);